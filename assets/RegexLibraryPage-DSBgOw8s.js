import{c as z,r as l,j as e,d as u}from"./index-Bxkp3708.js";function S(){const{patterns:t,remove:g,clear:p,storageInfo:n}=z(),[a,j]=l.useState(""),[r,f]=l.useState("all"),[d,x]=l.useState(null),[h,i]=l.useState(null),[v,o]=l.useState(!1),w=["all",...new Set(t.map(s=>s.toolLabel))],c=t.filter(s=>{const m=s.name.toLowerCase().includes(a.toLowerCase())||s.pattern.toLowerCase().includes(a.toLowerCase()),C=r==="all"||s.toolLabel===r;return m&&C}),y=s=>{navigator.clipboard.writeText(s.pattern).then(()=>{x(s.id),setTimeout(()=>x(null),2e3)})},b=s=>{g(s),i(null)},N=()=>{p(),o(!1)},k=s=>new Date(s).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-6 space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-zinc-100",children:"Regex Library"}),e.jsx("p",{className:"text-sm text-zinc-400 max-w-2xl mx-auto",children:"View and manage your saved regex patterns from all tools. Patterns are stored locally in your browser."})]}),e.jsxs("div",{className:"glass-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-sm font-semibold text-zinc-300",children:"Storage Status"}),e.jsxs("p",{className:"text-xs text-zinc-500",children:[t.length," pattern",t.length!==1?"s":""," saved",n.nearLimit&&e.jsxs("span",{className:"text-yellow-400 ml-2",children:["(",n.percentUsed,"% full)"]})]})]}),t.length>0&&e.jsx("button",{onClick:()=>o(!0),className:`px-3 py-1.5 text-xs font-medium text-red-400 bg-red-500/10 rounded-lg
                       hover:bg-red-500/20 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500/50`,children:"Clear All"})]}),e.jsx("div",{className:"h-2 rounded-full bg-zinc-900/50 overflow-hidden",children:e.jsx("div",{className:`h-full transition-all ${n.percentUsed>=90?"bg-red-500":n.percentUsed>=80?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(n.percentUsed,100)}%`}})}),n.nearLimit&&e.jsxs("div",{className:"flex items-start gap-2 text-yellow-500 bg-yellow-500/10 rounded-lg p-3 text-sm",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 flex-shrink-0 mt-0.5",children:[e.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),e.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),e.jsxs("span",{children:["Storage nearly full. ~",n.estimatedSlotsRemaining," patterns remaining. Consider deleting old patterns."]})]})]}),t.length>0&&e.jsxs("div",{className:"glass-card space-y-3",children:[e.jsx("h2",{className:"text-sm font-semibold text-zinc-300",children:"Filters"}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs text-zinc-400",children:"Search"}),e.jsx("input",{type:"text",value:a,onChange:s=>j(s.target.value),placeholder:"Search by name or pattern...",className:"w-full calc-input"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs text-zinc-400",children:"Filter by Tool"}),e.jsx("select",{value:r,onChange:s=>f(s.target.value),className:"w-full calc-input",children:w.map(s=>e.jsx("option",{value:s,children:s==="all"?"All Tools":s},s))})]})]}),a||r!=="all"?e.jsxs("p",{className:"text-xs text-zinc-500",children:["Showing ",c.length," of ",t.length," pattern",t.length!==1?"s":""]}):null]}),c.length===0?e.jsxs("div",{className:"glass-card text-center py-12",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-16 h-16 mx-auto text-zinc-500 mb-4",children:[e.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),e.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),e.jsx("polyline",{points:"7 3 7 8 15 8"})]}),e.jsx("h3",{className:"text-lg font-semibold text-zinc-300 mb-2",children:t.length===0?"No patterns saved yet":"No matching patterns"}),e.jsx("p",{className:"text-sm text-zinc-500",children:t.length===0?"Save regex patterns from any tool to view them here":"Try adjusting your search or filter"})]}):e.jsx("div",{className:"space-y-3",children:c.map(s=>e.jsxs("div",{className:"glass-card hover:bg-zinc-900/60 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base font-semibold text-zinc-100 truncate",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-indigo-500/20 text-indigo-300 font-medium",children:s.toolLabel}),e.jsx("span",{className:"text-xs text-zinc-500",children:k(s.created)})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>y(s),className:`px-3 py-1.5 text-xs font-medium rounded-lg transition-all ${d===s.id?"bg-green-500/20 text-green-400":"bg-zinc-800/80 text-zinc-400 hover:text-zinc-100 hover:bg-zinc-700/80"}`,title:"Copy pattern",children:d===s.id?e.jsxs(e.Fragment,{children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 inline mr-1",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})}),"Copied"]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 inline mr-1",children:[e.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),e.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),"Copy"]})}),e.jsxs("button",{onClick:()=>i(s.id),className:`px-3 py-1.5 text-xs font-medium text-red-400 bg-red-500/10 rounded-lg
                             hover:bg-red-500/20 transition-colors`,title:"Delete pattern",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 inline mr-1",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),"Delete"]})]})]}),e.jsx("div",{className:"bg-black/30 rounded-lg p-3 font-mono text-sm text-zinc-100 break-all",children:s.pattern})]},s.id))}),h&&u.createPortal(e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>i(null),children:e.jsxs("div",{className:"glass-card rounded-xl p-6 max-w-md w-full space-y-4",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 text-red-400",children:[e.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),e.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-zinc-100 mb-1",children:"Delete Pattern?"}),e.jsx("p",{className:"text-sm text-zinc-400",children:"Are you sure you want to delete this pattern? This action cannot be undone."})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{onClick:()=>i(null),className:`flex-1 glass-card px-4 py-2 rounded-lg hover:bg-zinc-700/30 transition-colors
                         focus:outline-none focus:ring-2 focus:ring-zinc-500/50`,style:{minHeight:"44px"},children:"Cancel"}),e.jsx("button",{onClick:()=>b(h),className:`flex-1 bg-red-600 hover:bg-red-700 text-white font-bold px-4 py-2
                         rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-red-500/50`,style:{minHeight:"44px"},children:"Delete"})]})]})}),document.body),v&&u.createPortal(e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>o(!1),children:e.jsxs("div",{className:"glass-card rounded-xl p-6 max-w-md w-full space-y-4",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 text-red-400",children:[e.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),e.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-zinc-100 mb-1",children:"Clear All Patterns?"}),e.jsxs("p",{className:"text-sm text-zinc-400",children:["Are you sure you want to delete all ",t.length," saved pattern",t.length!==1?"s":"","? This action cannot be undone."]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{onClick:()=>o(!1),className:`flex-1 glass-card px-4 py-2 rounded-lg hover:bg-zinc-700/30 transition-colors
                         focus:outline-none focus:ring-2 focus:ring-zinc-500/50`,style:{minHeight:"44px"},children:"Cancel"}),e.jsx("button",{onClick:N,className:`flex-1 bg-red-600 hover:bg-red-700 text-white font-bold px-4 py-2
                         rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-red-500/50`,style:{minHeight:"44px"},children:"Clear All"})]})]})}),document.body)]})}export{S as default};
