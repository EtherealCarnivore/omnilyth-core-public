import{j as e,a as U,b as H,r as f,_ as K}from"./index-CMhKddWk.js";function Q(s){const r={},n=s.Notables.Large||{};for(const l in n)r[l]=n[l];const c={};for(const l in n){const a=n[l];for(let x=0;x<a.Enchantments.length;x++){const i=a.Enchantments[x],p=P(i),u=oe(i,s);c[p]=u}}return{sortOrderMap:r,enchantMap:c,tradeStats:s.TradeStats}}function P(s){return s.map(r=>r.Description.replace("%",r.Value+"%")).join("/")}function Z(s,r){return s.Description===r.Description&&s.Value===r.Value}function X(s,r){return s.length!==r.length?!1:s.every((n,c)=>Z(n,r[c]))}function S(s,r){return s.some(n=>X(n,r))}function Y(s,r){return s.Enchantments.filter(n=>S(r.Enchantments,n))}function ee(s,r){return r.some(n=>S(s,n))}function te(s,r,n){if(!r.length)return!0;const c=n[s];if(!c)return!1;for(const l of r){const a=n[l];if(!a)continue;if(c.Mod.CorrectGroup===a.Mod.CorrectGroup||!c.Enchantments.some(i=>S(a.Enchantments,i)))return!1}return!0}function O(s){return s.Mod.CorrectGroup.includes("Suffix")}function se(s,r,n){return s<r?s<n&&r>n:r<n&&s>n}function re(s,r,n){return se(s.Stat._rid,r.Stat._rid,n.Stat._rid)}function ne(s,r,n,c){let l=0;return O(s)||l++,O(n)||l++,O(r)||l++,l<3&&re(s,r,n)&&ee(c,n.Enchantments)&&n.Mod.CorrectGroup!==s.Mod.CorrectGroup&&n.Mod.CorrectGroup!==r.Mod.CorrectGroup}function ae(s,r,n){const c=[];for(let l=0;l<s.length;l++)for(let a=l+1;a<s.length;a++)c.push(le(s[l],s[a],r,n));return c}function le(s,r,n,c){const l=n[s],a=n[r],x={notableName1:s,notableName3:r,notable1:l,notable3:a,success:!1};if(l.Mod.CorrectGroup===a.Mod.CorrectGroup)return x.error="Notables cannot be in the same group.",x;const i=Y(l,a);if(i.length===0)return x.error="Those notables cannot roll on any of the same cluster jewel types.",x;const p=c.Notables.Large||{},u=[],b=[];let g=Math.min(l.Mod.Level,a.Mod.Level),h=Math.max(l.Mod.Level,a.Mod.Level);for(const m in p){const N=p[m];if(ne(l,a,N,i)){u.push(N),b.push(m);const v=N.Mod.Level;v>h&&(h=v),v<g&&(g=v)}}return u.length===0?(x.error="No notables can appear in position 2 with this selection.",x):(x.success=!0,x.betweenNames=b,x.notablesBetween=u,x.validEnchants=i,x.minLvl=g,x.maxLvl=h,x)}function B(s,r){return r.Explicit[s]}function A(s,r,n,c,l){const{enchantMap:a,tradeStats:x}=l,i={type:"and",filters:[],disabled:!1},p={type:"count",value:{min:1},filters:[],disabled:!1};if(i.filters.push({id:x.Enchant["Adds # Passive Skills"].id,value:{min:8,max:8},disabled:!1}),c){const h=P(c),m=a[h];m&&i.filters.push({id:x.Enchant["Added Small Passive Skills grant: #"].id,value:{option:m.id},disabled:!1})}for(const h of r){const m=B(h,x);m&&i.filters.push({id:m,disabled:!1})}for(const h of n){const m=B(h,x);m&&p.filters.push({id:m,disabled:!1})}const b=encodeURIComponent(JSON.stringify({query:{status:{option:"securable"},stats:[i,p]},sort:{price:"asc"}}));return`https://www.pathofexile.com/trade/search/${encodeURIComponent(s)}?q=${b}`}function R(s){return s.replace("+","increased_").replace("physical_damage_reduction_rating","armour").replace("channelled","channel").replace("suppression","suppress").replace("sigil","brand").replace("empowered","exert").toLowerCase().split("_").filter(r=>!["%","and","a","base","damage","to","rating","additional"].includes(r))}function oe(s,r){let n=[...r.TradeStats.Enchant["Added Small Passive Skills grant: #"].option.options];for(let c=0;c<s.length;c++){const l=s[c],a=l.Value,x=l.Description,i=R(x);if(n=n.filter(p=>{const u=p.text.toLowerCase();if(!u.includes(a))return!1;for(const b of i)if(!u.includes(b))return!1;return!(u.includes("legacy")||u.startsWith("minion")&&!i.includes("minion")||u.includes("herald")&&!i.includes("herald")||u.includes("time")&&!i.includes("time")&&!s.some((g,h)=>h!==c&&R(g.Description).includes("time")))}),n.length===1)return n[0]}return null}function ie(){return e.jsx("div",{className:"relative w-full max-w-[420px] aspect-square",children:e.jsxs("svg",{viewBox:"0 0 512 512",className:"w-full h-full select-none",role:"img","aria-label":"Cluster Jewel diagram. Positions 1 and 3 are desired notables. Position 2 is the ignored middle.",children:[e.jsxs("defs",{children:[e.jsxs("filter",{id:"softNoise",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[e.jsx("feTurbulence",{type:"fractalNoise",baseFrequency:"0.9",numOctaves:"2",stitchTiles:"stitch",result:"n"}),e.jsx("feColorMatrix",{in:"n",type:"matrix",values:`
                0 0 0 0 0.15
                0 0 0 0 0.15
                0 0 0 0 0.15
                0 0 0 0.08 0
              `,result:"n2"}),e.jsx("feComposite",{in:"n2",in2:"SourceGraphic",operator:"over"})]}),e.jsx("filter",{id:"softShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:e.jsx("feDropShadow",{dx:"0",dy:"6",stdDeviation:"8",floodColor:"#000",floodOpacity:"0.6"})}),e.jsxs("filter",{id:"gemGlowGreen",x:"-30%",y:"-30%",width:"160%",height:"160%",children:[e.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"6",floodColor:"#2dd4bf",floodOpacity:"0.25"}),e.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"10",floodColor:"#22c55e",floodOpacity:"0.12"})]}),e.jsx("filter",{id:"gemGlowBlue",x:"-30%",y:"-30%",width:"160%",height:"160%",children:e.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"7",floodColor:"#60a5fa",floodOpacity:"0.22"})}),e.jsx("filter",{id:"gemGlowRed",x:"-30%",y:"-30%",width:"160%",height:"160%",children:e.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"6",floodColor:"#ef4444",floodOpacity:"0.18"})}),e.jsxs("linearGradient",{id:"bronze",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0",stopColor:"#d4b36a",stopOpacity:"0.8"}),e.jsx("stop",{offset:"0.4",stopColor:"#b08b44",stopOpacity:"0.85"}),e.jsx("stop",{offset:"0.75",stopColor:"#8b6a2f",stopOpacity:"0.9"}),e.jsx("stop",{offset:"1",stopColor:"#e2c17a",stopOpacity:"0.75"})]}),e.jsxs("radialGradient",{id:"stone",cx:"50%",cy:"40%",r:"70%",children:[e.jsx("stop",{offset:"0",stopColor:"#27272a"}),e.jsx("stop",{offset:"0.55",stopColor:"#18181b"}),e.jsx("stop",{offset:"1",stopColor:"#0b0b0f"})]}),e.jsxs("radialGradient",{id:"plate",cx:"45%",cy:"35%",r:"80%",children:[e.jsx("stop",{offset:"0",stopColor:"#141419"}),e.jsx("stop",{offset:"1",stopColor:"#07070a"})]})]}),e.jsx("g",{filter:"url(#softShadow)",children:e.jsx("rect",{x:"64",y:"64",width:"384",height:"384",rx:"28",fill:"url(#plate)",stroke:"rgba(255,255,255,0.06)"})}),e.jsxs("g",{filter:"url(#softNoise)",children:[e.jsx("circle",{cx:"256",cy:"270",r:"155",fill:"none",stroke:"url(#stone)",strokeWidth:"42"}),e.jsx("circle",{cx:"256",cy:"270",r:"155",fill:"none",stroke:"url(#bronze)",strokeWidth:"6",opacity:"0.7"}),e.jsx("circle",{cx:"256",cy:"270",r:"132",fill:"none",stroke:"rgba(255,255,255,0.06)",strokeWidth:"2"})]}),e.jsx("path",{d:"M 140 330 A 140 140 0 0 0 372 330",fill:"none",stroke:"rgba(45, 212, 191, 0.25)",strokeWidth:"6",strokeLinecap:"round"}),e.jsx(V,{x:128,y:208}),e.jsx(V,{x:384,y:208}),e.jsx("circle",{cx:"256",cy:"414",r:"18",fill:"#0b0b0f",stroke:"rgba(255,255,255,0.18)",strokeWidth:"2"}),e.jsx(G,{x:256,y:122,n:2,state:"ignored"}),e.jsx(G,{x:150,y:305,n:1,state:"selected"}),e.jsx(G,{x:362,y:305,n:3,state:"selected"}),e.jsx("text",{x:"205",y:"290",fill:"rgba(255,255,255,0.35)",fontSize:"18",fontFamily:"ui-sans-serif",children:"1"}),e.jsx("text",{x:"252",y:"185",fill:"rgba(255,255,255,0.28)",fontSize:"18",fontFamily:"ui-sans-serif",children:"2"}),e.jsx("text",{x:"308",y:"290",fill:"rgba(255,255,255,0.35)",fontSize:"18",fontFamily:"ui-sans-serif",children:"3"})]})})}function G({x:s,y:r,n,state:c}){const l=c==="ignored",a=l?"rgba(248,113,113,0.55)":"rgba(34,197,94,0.55)",x=l?"#220709":"#062012",i=l?"url(#gemGlowRed)":"url(#gemGlowGreen)";return e.jsxs("g",{transform:`translate(${s} ${r})`,filter:i,children:[e.jsx("circle",{r:"38",fill:"rgba(0,0,0,0.35)",stroke:"rgba(255,255,255,0.06)",strokeWidth:"2"}),e.jsx("circle",{r:"30",fill:x,stroke:a,strokeWidth:"3"}),l?e.jsxs("g",{opacity:"0.9",children:[e.jsx("circle",{r:"16",fill:"#7f1d1d",opacity:"0.55"}),e.jsx("path",{d:"M -8 -2 L 10 6",stroke:"rgba(255,255,255,0.25)",strokeWidth:"1.2"}),e.jsx("path",{d:"M -2 -10 L 6 12",stroke:"rgba(255,255,255,0.18)",strokeWidth:"1"})]}):e.jsxs("g",{children:[e.jsx("circle",{r:"16",fill:"#14532d"}),e.jsx("circle",{r:"10",fill:"rgba(34,197,94,0.55)"})]}),e.jsx("text",{y:"6",textAnchor:"middle",fontSize:"16",fontFamily:"ui-sans-serif",fill:l?"rgba(255,255,255,0.75)":"rgba(255,255,255,0.65)",children:n})]})}function V({x:s,y:r}){return e.jsxs("g",{transform:`translate(${s} ${r})`,filter:"url(#gemGlowBlue)",children:[e.jsx("circle",{r:"34",fill:"rgba(0,0,0,0.35)",stroke:"rgba(255,255,255,0.06)",strokeWidth:"2"}),e.jsx("path",{d:"M 0 -22 L 18 0 L 0 22 L -18 0 Z",fill:"#0b1a33",stroke:"rgba(255,255,255,0.14)",strokeWidth:"2"}),e.jsx("path",{d:"M 0 -22 L 0 22",stroke:"rgba(255,255,255,0.12)",strokeWidth:"1"}),e.jsx("path",{d:"M -18 0 L 18 0",stroke:"rgba(255,255,255,0.10)",strokeWidth:"1"}),e.jsx("circle",{r:"8",fill:"rgba(96,165,250,0.35)"})]})}function ce(){const{league:s}=U(),[r,n]=H(),[c,l]=f.useState(null),[a,x]=f.useState(null),[i,p]=f.useState([]),[u,b]=f.useState(new Set),[g,h]=f.useState(null),[m,N]=f.useState(0),[v,y]=f.useState(""),[E,w]=f.useState(!1),_=f.useRef(null);f.useEffect(()=>{let t=!1;return K(()=>import("./cluster-jewel-data-CNS_-YCL.js"),[]).then(o=>{if(t)return;const d=o.default;l(d),x(Q(d))}),()=>{t=!0}},[]),f.useEffect(()=>{if(!a)return;const t=r.get("s"),o=r.get("d");if(t){const d=decodeURIComponent(t).split(",").filter(j=>j&&a.sortOrderMap[j]);p(d)}if(o){const d=decodeURIComponent(o).split(",").filter(j=>j);b(new Set(d))}},[a]),f.useEffect(()=>{function t(o){_.current&&!_.current.contains(o.target)&&w(!1)}return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]);const D=f.useMemo(()=>a?Object.keys(a.sortOrderMap).sort((t,o)=>t.localeCompare(o)):[],[a]),$=f.useMemo(()=>{if(!D.length||!a)return[];const t=D.filter(d=>!i.includes(d)&&te(d,i,a.sortOrderMap));if(!v)return t.slice(0,50);const o=v.toLowerCase();return t.filter(d=>d.toLowerCase().includes(o)).slice(0,50)},[D,i,v,a]),C=f.useCallback((t,o)=>{const d={};t.length&&(d.s=t.join(",")),o.size&&(d.d=[...o].join(",")),n(d,{replace:!0})},[n]),T=f.useCallback(t=>{p(o=>{if(o.includes(t))return o;const d=[...o,t];return C(d,u),d}),y(""),w(!1)},[u,C]),I=f.useCallback(t=>{p(o=>{const d=o.filter(z=>z!==t),j=new Set(u);return j.delete(t),b(j),C(d,j),d}),h(null)},[u,C]),q=f.useCallback(t=>{b(o=>{const d=new Set(o);return d.has(t)?d.delete(t):d.add(t),C(i,d),d})},[i,C]),F=f.useCallback(()=>{if(!a||!c)return;const t=i.filter(d=>!u.has(d));if(t.length<2)return;const o=ae(t,a.sortOrderMap,c);h(o),N(0)},[a,c,i,u]),J=f.useCallback(t=>a?.sortOrderMap[t]?.Mod.CorrectGroup.includes("Suffix"),[a]),M=i.filter(t=>!u.has(t)).length,k=g?g.filter(t=>t.success):[],L=g?g.filter(t=>!t.success):[];return a?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-amber-300",children:"Cluster Jewel Calculator"}),e.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:'Find compatible "middle" notables for Large Cluster Jewels.'})]}),e.jsxs("div",{className:"flex gap-3 rounded-xl bg-amber-500/[0.04] border border-amber-400/15 px-4 py-3",children:[e.jsx("svg",{className:"w-5 h-5 text-amber-400/70 shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),e.jsxs("div",{className:"text-sm text-zinc-400 leading-relaxed",children:["Select two desired notables for positions ",e.jsx("span",{className:"text-emerald-400/80",children:"1"})," and ",e.jsx("span",{className:"text-emerald-400/80",children:"3"}),". The calculator finds which notables can appear in the undesired position ",e.jsx("span",{className:"text-red-400/80",children:"2"}),", and generates trade links filtered by cluster jewel enchant type."]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"rounded-2xl border border-white/5 bg-zinc-900/40 backdrop-blur-xl p-4 shadow-[0_0_0_1px_rgba(255,255,255,0.04)]",children:[e.jsx(ie,{}),e.jsxs("div",{className:"mt-3 flex items-center justify-center gap-4 text-xs text-white/60",children:[e.jsx(W,{className:"bg-emerald-400/60",label:"Desired"}),e.jsx(W,{className:"bg-red-400/60",label:"Ignored"}),e.jsx(W,{className:"bg-sky-400/60",label:"Socket"})]})]})}),e.jsxs("div",{className:"rounded-xl border border-white/5 bg-zinc-950/30 p-5 space-y-5",children:[e.jsxs("div",{ref:_,className:"relative max-w-md",children:[e.jsx("label",{className:"block text-xs font-semibold text-amber-300/80 uppercase tracking-wider mb-2",children:"Add Notables"}),e.jsxs("div",{className:"relative",children:[e.jsxs("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-400/50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"M21 21l-4.35-4.35"})]}),e.jsx("input",{type:"text",value:v,onChange:t=>{y(t.target.value),w(!0)},onFocus:()=>w(!0),placeholder:"Search notables...",className:"w-full bg-zinc-950/40 border border-white/5 rounded-lg text-sm py-2 pl-9 pr-3 text-zinc-100 placeholder:text-zinc-400/40 outline-none focus:border-amber-500/40 transition-colors"})]}),E&&$.length>0&&e.jsx("div",{className:"fade-in absolute z-50 mt-1 w-full max-h-64 overflow-y-auto rounded-lg bg-zinc-900 border border-white/10 shadow-xl",children:$.map(t=>{const o=a.sortOrderMap[t],d=o.Mod.CorrectGroup.includes("Suffix"),j=o.Enchantments?.length||0;return e.jsxs("button",{onClick:()=>T(t),className:"w-full text-left px-3 py-2 text-sm hover:bg-amber-500/10 hover:pl-4 transition-all duration-100 flex items-center gap-2",children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full shrink-0 ${d?"bg-purple-400/70":"bg-amber-400/70"}`,title:d?"Suffix":"Prefix"}),e.jsx("span",{className:"text-zinc-100 flex-1 truncate",children:t}),e.jsxs("span",{className:"text-[11px] text-zinc-600 shrink-0",children:[j," enchant",j!==1?"s":""]}),e.jsxs("span",{className:"text-[11px] text-zinc-500 shrink-0 tabular-nums w-10 text-right",children:["ilvl ",o.Mod.Level]})]},t)})})]}),i.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h3",{className:"text-xs font-semibold text-zinc-400 uppercase tracking-wider",children:["Selected (",M," active)"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:i.map(t=>{const o=u.has(t),j=a.sortOrderMap[t]?.Mod.Level,z=J(t);return e.jsxs("div",{className:`flex items-center gap-3 px-3 py-2.5 rounded-lg border transition-all duration-150 ${o?"bg-zinc-900/30 border-zinc-800/40 opacity-50":"bg-amber-500/[0.06] border-amber-400/20"}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${o?"bg-zinc-600":z?"bg-purple-400/70":"bg-amber-400/70"}`,title:z?"Suffix":"Prefix"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:`text-sm font-medium truncate block ${o?"text-zinc-500 line-through":"text-amber-200"}`,children:t}),e.jsxs("span",{className:"text-[11px] text-zinc-500",children:["ilvl ",j," · ",z?"Suffix":"Prefix"]})]}),e.jsxs("div",{className:"flex items-center gap-0.5 shrink-0",children:[e.jsx("button",{onClick:()=>q(t),className:"p-1.5 rounded-md hover:bg-white/[0.06] transition-colors",title:o?"Enable":"Disable",children:o?e.jsx("svg",{className:"w-4 h-4 text-zinc-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878l4.242 4.242M21 21l-4.35-4.35"})}):e.jsxs("svg",{className:"w-4 h-4 text-amber-400/70",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),e.jsx("button",{onClick:()=>I(t),className:"p-1.5 rounded-md hover:bg-red-500/15 transition-colors",title:"Remove",children:e.jsx("svg",{className:"w-4 h-4 text-zinc-500 hover:text-red-400 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})]},t)})})]}),e.jsx("button",{onClick:F,disabled:M<2,className:`w-full sm:w-auto px-8 py-3 rounded-xl text-sm font-semibold tracking-wide transition-all duration-200 ${M>=2?"bg-gradient-to-r from-amber-500/25 to-amber-600/20 border border-amber-400/30 text-amber-200 hover:from-amber-500/35 hover:to-amber-600/30 hover:border-amber-400/50 shadow-[0_0_20px_rgba(245,158,11,0.08)] hover:shadow-[0_0_28px_rgba(245,158,11,0.15)]":"bg-zinc-900/40 border border-zinc-800/40 text-zinc-600 cursor-not-allowed"}`,children:M>=2?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Calculate"]}):`Select ${2-M} more notable${2-M!==1?"s":""}`})]}),g&&e.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-amber-400/15 to-transparent"}),g&&e.jsxs("div",{className:"rounded-xl border border-white/5 bg-zinc-950/30 p-5 space-y-5 fade-in",children:[L.length>0&&k.length===0&&e.jsxs("div",{className:"rounded-xl bg-red-500/[0.06] border border-red-500/20 p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-red-400 mb-2",children:"No Valid Combinations"}),e.jsx("ul",{className:"space-y-1 text-sm text-zinc-400",children:L.map(t=>e.jsxs("li",{children:[e.jsxs("span",{className:"text-zinc-300",children:[t.notableName1," + ",t.notableName3]}),": ",t.error]},`${t.notableName1}-${t.notableName3}`))})]}),k.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-xs font-semibold text-amber-300 uppercase tracking-widest",children:["Results — ",k.length," valid pair",k.length!==1?"s":""]}),k.length>1&&e.jsx("div",{className:"flex flex-wrap gap-1.5",children:k.map((t,o)=>e.jsxs("button",{onClick:()=>N(o),className:`px-3.5 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 ${m===o?"bg-amber-500/20 text-amber-300 border border-amber-400/30 shadow-[0_0_12px_rgba(245,158,11,0.06)]":"text-zinc-400 hover:text-zinc-200 border border-white/5 hover:border-white/10"}`,children:[t.notableName1," + ",t.notableName3]},`${t.notableName1}-${t.notableName3}`))}),e.jsx(de,{result:k[m]||k[0],league:s,clusterData:a}),L.length>0&&e.jsxs("div",{className:"rounded-lg bg-zinc-950/40 border border-white/5 p-3",children:[e.jsx("p",{className:"text-xs text-zinc-500 mb-1",children:"Incompatible pairs:"}),e.jsx("ul",{className:"space-y-0.5 text-xs text-zinc-500",children:L.map(t=>e.jsxs("li",{children:[t.notableName1," + ",t.notableName3,": ",t.error]},`err-${t.notableName1}-${t.notableName3}`))})]})]})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"skeleton h-8 w-64"}),e.jsx("div",{className:"skeleton h-4 w-96"}),e.jsx("div",{className:"skeleton h-48 w-full"})]})}function W({className:s,label:r}){return e.jsxs("span",{className:"inline-flex items-center gap-2",children:[e.jsx("span",{className:`h-2.5 w-2.5 rounded-full ${s}`}),r]})}function de({result:s,league:r,clusterData:n}){const{notableName1:c,notableName3:l,notable1:a,notable3:x,validEnchants:i,notablesBetween:p,betweenNames:u}=s,[b,g]=f.useState(!1);return e.jsxs("div",{className:"rounded-xl bg-zinc-950/40 border border-white/5 overflow-hidden",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-3 bg-amber-500/[0.04] border-b border-white/5",children:[e.jsx("span",{className:"text-amber-300 font-medium text-sm",children:c}),e.jsxs("span",{className:"text-[11px] text-zinc-500 tabular-nums",children:["ilvl ",a.Mod.Level]}),e.jsx("span",{className:"text-zinc-600 text-xs",children:"+"}),e.jsx("span",{className:"text-amber-300 font-medium text-sm",children:l}),e.jsxs("span",{className:"text-[11px] text-zinc-500 tabular-nums",children:["ilvl ",x.Mod.Level]})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>g(!b),className:"flex items-center gap-2 text-xs text-zinc-400 hover:text-zinc-300 transition-colors group",children:[e.jsx("svg",{className:`w-3 h-3 text-zinc-500 transition-transform duration-200 ${b?"rotate-90":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),e.jsx("span",{className:"uppercase tracking-wider font-semibold",children:"Position 2 options"}),e.jsxs("span",{className:"text-zinc-600 font-normal",children:["(",p.length," notables)"]})]}),b&&e.jsx("div",{className:"mt-2 ml-5 flex flex-wrap gap-1.5 fade-in",children:p.map(h=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-[11px] bg-zinc-900/60 border border-white/5 text-zinc-300",children:[h.PassiveSkill.Name,e.jsxs("span",{className:"text-zinc-600 tabular-nums",children:["(",h.Mod.Level,")"]})]},h.PassiveSkill.Name))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-semibold text-amber-300/80 uppercase tracking-wider",children:"Trade Links"}),e.jsxs("div",{className:"grid grid-cols-1 gap-1.5",children:[i.map(h=>{const m=P(h),N=n.enchantMap[m],v=N?N.text:m,y=p.filter(w=>S(w.Enchantments,h)).map(w=>w.PassiveSkill.Name);if(y.length===0)return null;const E=A(r,[c,l],y,h,n);return e.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-zinc-900/30 border border-white/[0.03] hover:border-white/[0.06] transition-colors",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-zinc-300 truncate",title:v,children:v}),e.jsxs("p",{className:"text-[11px] text-zinc-600",children:[y.length," middle notable",y.length!==1?"s":""]})]}),e.jsxs("a",{href:E,target:"_blank",rel:"noreferrer",className:"shrink-0 inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium bg-amber-500/10 border border-amber-400/20 text-amber-300 hover:bg-amber-500/20 hover:border-amber-400/35 transition-all duration-150",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})}),"Trade"]})]},m)}),i.length>1&&e.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-amber-500/[0.04] border border-amber-400/10",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-zinc-300",children:"Any Enchant"}),e.jsxs("p",{className:"text-[11px] text-zinc-600",children:[u.length," middle notables · all enchant types"]})]}),e.jsxs("a",{href:A(r,[c,l],u,null,n),target:"_blank",rel:"noreferrer",className:"shrink-0 inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium bg-amber-500/15 border border-amber-400/25 text-amber-300 hover:bg-amber-500/25 hover:border-amber-400/40 transition-all duration-150",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})}),"Trade"]})]})]})]})]})]})}function ue(){return e.jsx("div",{className:"glass-card rounded-2xl p-6 sm:p-8",children:e.jsx(ce,{})})}export{ue as default};
