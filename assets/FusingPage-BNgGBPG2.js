import{r as j,j as e,u as Y}from"./index-B1DFNtkN.js";import{P as H}from"./PriceDisclaimer-BklEzjo_.js";const E=[0,0,1,1/3,1/5,1/150,1/1500],K={2:[1,2,3],3:[1,2,3,5,8,10],4:[1,2,3,5,8,10,15,20],5:[10,25,50,75,100,150,200,300,500],6:[100,250,500,750,1e3,1250,1500,2e3,2500,3e3]},F=[0,0,1,3,5,150,1500];function U(d,i=6){const l=Math.max(0,Math.min(30,d)),r=Math.max(1,Math.min(6,i));if(r<=1)return{quality:l,sockets:r,noLinksPossible:!0,benchCost:0};if(r<=4){const a=E[r],u=Math.min(1,a*(1+l/100)),p=1/u,C=Math.sqrt((1-u)/(u*u)),L=K[r].map(N=>({fusings:N,probability:1-Math.pow(1-u,N)}));return{quality:l,sockets:r,benchOnly:!0,successChance:u,avgFusings:p,stdDev:C,benchCost:F[r],cumulativeTable:L}}const m=E[r],t=Math.min(1,m*(1+l/100)),g=1/t,x=Math.sqrt((1-t)/(t*t)),n=K[r].map(a=>({fusings:a,probability:1-Math.pow(1-t,a)})),f=r===6?(()=>{const a=E[5]*(1+l/100);return{chance:a,avgFusings:1/a}})():null;return{quality:l,sockets:r,successChance:t,avgFusings:g,stdDev:x,benchCost:F[r],cumulativeTable:n,fiveLink:f}}function W(d,i){const l=d;if(d<=1)return{noLinksPossible:!0};if(i>=l)return{alreadyDone:!0};if(d<=4)return{benchOnly:!0,target:l,benchCost:F[l]};const r=4,m=i<r,t=m?r:i,g=m?F[r]:0,x=l===6?{4:{fusings:6,resets:2},5:{fusings:4,resets:1}}:{4:{fusings:2,resets:1}},b=x[t]||x[r],n=J(t,l);return{alreadyDone:!1,startState:t,target:l,needsInitialBench:m,initialBenchFusings:g,avgTaintedFusings:b.fusings,avgBenchResets:b.resets,benchResetCost:F[r],cumulativeTable:n}}function J(d,i){const l=[1,2,3,4,5,6,8,10,15,20,25,30,35],r=l[l.length-1];if(i===6){let m=0,t=0;const g=[];let x=0;for(let b=1;b<=r;b++){const n=.5*t+.5*m,f=.5+.5*m;m=n,t=f,x<l.length&&b===l[x]&&(g.push({fusings:b,probability:d===5?t:m}),x++)}return g}else{let m=0;const t=[];let g=0;for(let x=1;x<=r;x++)m=.5+.5*m,g<l.length&&x===l[g]&&(t.push({fusings:x,probability:m}),g++);return t}}function X(d,i,l,r,m,t,g){const x=[];if(m){const n=d.benchCost,f=i?n*i+(r?n*r:0):null;if(x.push({method:"Corrupted Bench",description:`${n.toLocaleString()} fusings + ${n.toLocaleString()} vaal orbs`,avgOrbs:n,extraOrbs:`+ ${n.toLocaleString()} vaals`,chaosCost:f}),t&&!t.alreadyDone&&l!=null){const a=t,u=a.benchResetCost*(i||0)+a.benchResetCost*(r||0),C=a.initialBenchFusings*(i||0)+a.initialBenchFusings*(r||0)+a.avgTaintedFusings*l+a.avgBenchResets*u;x.push({method:"Tainted Strategy",description:`~${a.avgTaintedFusings} tainted fusings + ~${a.avgBenchResets} bench resets`,avgOrbs:a.avgTaintedFusings,extraOrbs:"tainted fusings",chaosCost:C,isTainted:!0})}}else{const n=d.avgFusings,f=d.successChance>0?Math.ceil(Math.log(1-.75)/Math.log(1-d.successChance)):1/0;if(x.push({method:"Manual Fusing",description:`Average ${Math.round(n).toLocaleString()} fusings at ${d.quality}% quality`,avgOrbs:n,p75Orbs:f,chaosCost:i?n*i:null,riskAdjustedCost:i?f*i:null}),x.push({method:"Crafting Bench",description:`Guaranteed for ${d.benchCost.toLocaleString()} fusings`,avgOrbs:d.benchCost,chaosCost:i?d.benchCost*i:null,riskAdjustedCost:i?d.benchCost*i:null}),g!=null&&d.sockets===6){const a=g+(i||0);x.push({method:"Omen of Connections",description:"Guaranteed 6-link (1 Omen + 1 Fusing)",avgOrbs:1,extraOrbs:"+ 1 omen",chaosCost:a,riskAdjustedCost:a,isOmen:!0})}}const b=x.filter(n=>n.chaosCost!=null);if(b.length>0){const n=b.some(a=>a.riskAdjustedCost!=null)?"riskAdjustedCost":"chaosCost",f=b.filter(a=>a[n]!=null);if(f.length>0){const a=Math.min(...f.map(u=>u[n]));for(const u of x)u.isBest=u[n]===a}}return x}function Z({prices:d}){const[i,l]=j.useState(20),[r,m]=j.useState(""),[t,g]=j.useState(!1),[x,b]=j.useState(!1),[n,f]=j.useState(6),[a,u]=j.useState("6"),[p,C]=j.useState(6),[k,L]=j.useState(4),[N,D]=j.useState(""),B=j.useRef(null),Q=j.useCallback(s=>{D(s),B.current&&clearTimeout(B.current),B.current=setTimeout(()=>D(""),3e3)},[]);function _(s){if(u(s),s==="")return;const h=parseInt(s,10);if(isNaN(h)||h<1||h>6){Q("Sockets must be between 1 and 6"),u("");return}f(h),p>h&&C(h),k>=h&&L(Math.max(1,h-1))}const P=t?0:i,c=j.useMemo(()=>U(P,p),[P,p]),o=j.useMemo(()=>t?W(p,k):null,[t,p,k]),$=o&&!o.alreadyDone&&!o.noLinksPossible&&!o.benchOnly,I=r===""?null:parseInt(r,10),A=!t&&I>0&&c.successChance?1-Math.pow(1-c.successChance,I):null,y=d?.["orb-of-fusing"]?.chaosRate,M=d?.["tainted-orb-of-fusing"]?.chaosRate,R=d?.["vaal-orb"]?.chaosRate??null,w=d?.["omen-of-connections"]?.chaosValue??null,q=y!=null,O=!t&&n===6&&p===6,z=w!=null&&y!=null?w+y:null,S=y!=null?c.benchCost*y:null,T=z!=null&&S!=null&&z<=S,v=x&&O,G=j.useMemo(()=>q?X(c,y,M,R,t,o,v?w:null):null,[c,y,M,R,q,t,o,v,w]);function V(s){const h=parseInt(s,10);if(s===""){l(0);return}isNaN(h)||l(Math.max(0,Math.min(30,h)))}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-orange-300",children:"Fusing Calculator"}),e.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:"Calculate the expected Orbs of Fusing needed to fully link an item."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer select-none group w-fit",children:[e.jsxs("span",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:t,onChange:s=>{g(s.target.checked),s.target.checked&&b(!1)},className:"sr-only peer"}),e.jsx("span",{className:`
              block w-10 h-6 rounded-full transition-colors duration-200
              ${t?"bg-red-600":"bg-zinc-800/60"}
            `}),e.jsx("span",{className:`
              absolute left-0.5 top-0.5 w-5 h-5 rounded-full bg-white shadow transition-transform duration-200
              ${t?"translate-x-4":"translate-x-0"}
            `})]}),e.jsx("span",{className:`text-sm font-medium transition-colors duration-200 ${t?"text-red-400":"text-zinc-400 group-hover:text-zinc-100"}`,children:"Corrupted Item"}),t&&e.jsx("span",{className:"text-[10px] uppercase tracking-wider text-red-400/60 font-semibold",children:n>=5?"Bench + Tainted Strategy":"Bench only"})]}),!t&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:`flex items-center gap-3 select-none group w-fit ${O?"cursor-pointer":"cursor-not-allowed opacity-50"}`,children:[e.jsxs("span",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:v,onChange:s=>b(s.target.checked),disabled:!O,className:"sr-only peer"}),e.jsx("span",{className:`
                  block w-10 h-6 rounded-full transition-colors duration-200
                  ${v?"bg-amber-600":"bg-zinc-800/60"}
                `}),e.jsx("span",{className:`
                  absolute left-0.5 top-0.5 w-5 h-5 rounded-full bg-white shadow transition-transform duration-200
                  ${v?"translate-x-4":"translate-x-0"}
                `})]}),e.jsx("span",{className:`text-sm font-medium transition-colors duration-200 ${v?"text-amber-300":"text-zinc-400 group-hover:text-zinc-100"}`,children:"Omen of Connections"}),w!=null&&e.jsxs("span",{className:`text-xs font-mono ${T?"text-green-400/70":"text-red-400/70"}`,children:[z!=null?`${Math.round(z).toLocaleString()}c`:`${Math.round(w).toLocaleString()}c`,S!=null&&(T?e.jsx("span",{className:"text-green-400/50 ml-1",children:"cheaper than bench"}):e.jsx("span",{className:"text-red-400/50 ml-1",children:"bench is cheaper"}))]})]}),!O&&e.jsx("p",{className:"text-[10px] text-zinc-500 ml-[52px]",children:n<6||p<6?"Omen of Connections only works for 6-socket 6-link targets":"Not available for corrupted items"}),v&&!T&&S!=null&&e.jsx("div",{className:"ml-[52px] rounded-lg bg-red-900/30 border border-red-700/40 px-3 py-2",children:e.jsxs("p",{className:"text-xs text-red-300",children:["⚠ The bench craft (",Math.round(S).toLocaleString(),"c for ",c.benchCost.toLocaleString()," fusings) is cheaper than using an Omen (",Math.round(z).toLocaleString(),"c). Consider the bench instead."]})}),v&&T&&e.jsxs("p",{className:"text-xs text-green-400/70 ml-[52px]",children:["1 Fusing + 1 Omen = guaranteed 6-link. Cheaper than ",c.benchCost.toLocaleString()," fusings at bench."]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t?e.jsxs("div",{className:"rounded-xl bg-red-900/10 border border-red-800/20 p-4 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs uppercase tracking-wider text-red-300/70",children:"Sockets"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"number",min:1,max:6,value:a,onChange:s=>_(s.target.value),onBlur:()=>{a===""&&u(String(n))},className:`calc-input w-20 text-center text-lg font-semibold ${N?"border-red-500/70":""}`}),e.jsx("span",{className:"text-xs text-zinc-400/60",children:"1 – 6"})]}),e.jsx("div",{className:`overflow-hidden transition-all duration-300 ${N?"max-h-8 opacity-100":"max-h-0 opacity-0"}`,children:e.jsx("p",{className:"text-xs text-red-400 bg-red-900/30 rounded-lg px-3 py-1.5 inline-block",children:N})})]}),n>=2&&e.jsxs("div",{className:"border-t border-red-800/15 pt-3 space-y-2",children:[e.jsx("label",{className:"text-xs uppercase tracking-wider text-red-300/70",children:"Current Links"}),e.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:Array.from({length:n-1},(s,h)=>h+1).map(s=>e.jsxs("button",{onClick:()=>L(s),className:`
                        px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200 border
                        ${k===s?"bg-red-900/40 border-red-700/50 text-red-300":"bg-zinc-900/40 border-white/5 text-zinc-400 hover:text-zinc-100 hover:border-white/[0.08]"}
                      `,children:[s,"L"]},s))}),e.jsxs("p",{className:"text-[10px] text-zinc-400/60",children:["Target: ",n,"-link"]})]})]}):e.jsxs("div",{className:"rounded-xl bg-zinc-900/40 border border-white/5 p-4 space-y-3",children:[e.jsx("label",{className:"text-xs uppercase tracking-wider text-zinc-400",children:"Item Quality"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"number",min:0,max:30,value:i,onChange:s=>V(s.target.value),className:"calc-input w-20 text-center text-lg font-semibold"}),e.jsx("span",{className:"text-zinc-400 text-sm",children:"%"})]}),e.jsx("input",{type:"range",min:0,max:30,value:i,onChange:s=>l(Number(s.target.value)),className:"fusing-range w-full"}),e.jsxs("div",{className:"flex justify-between text-[10px] text-zinc-400/60 px-0.5",children:[e.jsx("span",{children:"0%"}),e.jsx("span",{children:"30%"})]})]}),e.jsxs("div",{className:"rounded-xl bg-zinc-900/40 border border-white/5 p-4 space-y-4",children:[!t&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs uppercase tracking-wider text-zinc-400",children:"Sockets"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"number",min:1,max:6,value:a,onChange:s=>_(s.target.value),onBlur:()=>{a===""&&u(String(n))},className:`calc-input w-20 text-center text-lg font-semibold ${N?"border-red-500/70":""}`}),e.jsx("span",{className:"text-xs text-zinc-400/60",children:"1 – 6"})]}),e.jsx("div",{className:`overflow-hidden transition-all duration-300 ${N?"max-h-8 opacity-100":"max-h-0 opacity-0"}`,children:e.jsx("p",{className:"text-xs text-red-400 bg-red-900/30 rounded-lg px-3 py-1.5 inline-block",children:N})})]}),!t&&n>=2&&e.jsxs("div",{className:"border-t border-white/5 pt-3 space-y-2",children:[e.jsx("label",{className:"text-xs uppercase tracking-wider text-orange-300/70",children:"Target Links"}),e.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:Array.from({length:n-1},(s,h)=>h+2).map(s=>e.jsxs("button",{onClick:()=>C(s),className:`
                      px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200 border
                      ${p===s?"bg-orange-900/40 border-orange-700/50 text-orange-300":"bg-zinc-900/40 border-white/5 text-zinc-400 hover:text-zinc-100 hover:border-white/10"}
                    `,children:[s,"L"]},s))}),e.jsxs("p",{className:"text-[10px] text-zinc-400/60",children:[n," sockets → ",p,"-link"]})]}),!t&&!c.noLinksPossible&&e.jsxs("div",{className:"border-t border-white/5 pt-3 space-y-2",children:[e.jsx("label",{className:"text-xs uppercase tracking-wider text-zinc-400",children:"Fusings to use"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"number",min:1,placeholder:"e.g. 543",value:r,onChange:s=>m(s.target.value),className:"calc-input w-28 text-center"}),A!=null&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-zinc-400 text-sm",children:"→"}),e.jsxs("span",{className:"text-orange-300 font-bold text-lg",children:[(A*100).toFixed(1),"%"]})]})]}),A!=null&&e.jsxs("p",{className:"text-xs text-zinc-400",children:["chance to ",p,"-link within ",I.toLocaleString()," fusings"]})]}),t&&o?.noLinksPossible&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs uppercase tracking-wider text-red-300/70",children:"Info"}),e.jsx("p",{className:"text-sm text-zinc-400",children:"A 1-socket item has no links. Nothing to fuse!"})]}),t&&o?.benchOnly&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs uppercase tracking-wider text-red-300/70",children:"Recommendation"}),e.jsxs("p",{className:"text-sm text-zinc-400",children:["For ",n," sockets, just use the ",e.jsx("strong",{className:"text-red-300",children:"Crafting Bench"})," — it's cheap. Costs ",e.jsxs("strong",{className:"text-red-300",children:[o.benchCost," fusings + ",o.benchCost," vaal orbs"]})," for a guaranteed ",n,"-link."]})]}),t&&$&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs uppercase tracking-wider text-red-300/70",children:"Optimal Strategy"}),e.jsxs("div",{className:"text-sm text-zinc-400 space-y-2",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-zinc-100 font-medium",children:"1."})," ",o.needsInitialBench?e.jsxs(e.Fragment,{children:["Bench craft to ",e.jsx("strong",{className:"text-red-300",children:"4-link"})," (",o.initialBenchFusings," fusings + ",o.initialBenchFusings," vaals)"]}):e.jsxs(e.Fragment,{children:["Start from your current ",e.jsxs("strong",{className:"text-red-300",children:[k,"-link"]})]})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-zinc-100 font-medium",children:"2."})," ","Slam ",e.jsx("strong",{className:"text-purple-300",children:"Tainted Orb of Fusing"})," (50/50 add or remove link)"]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-zinc-100 font-medium",children:"3."})," ","If it drops to 3L → bench reset to 4L (5 fusings + 5 vaals)"]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-zinc-100 font-medium",children:"4."})," ","Repeat until ",n,"-link!"]})]})]}),t&&o?.alreadyDone&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs uppercase tracking-wider text-green-300/70",children:"Status"}),e.jsx("p",{className:"text-sm text-green-300 font-medium",children:"Your item is already fully linked!"})]})]})]}),!t&&c.noLinksPossible?e.jsx("div",{className:"rounded-xl bg-zinc-900/60 border border-white/5 p-4 text-center",children:e.jsx("p",{className:"text-sm text-zinc-400",children:"A 1-socket item has no links. Nothing to fuse!"})}):!t&&c.benchOnly?e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"rounded-xl bg-orange-900/30 border border-orange-800/40 p-4 text-center",children:[e.jsx("div",{className:"text-xs uppercase tracking-wider text-orange-300/70 mb-1",children:"Bench Cost"}),e.jsx("div",{className:"text-2xl font-bold text-orange-300",children:c.benchCost}),e.jsxs("div",{className:"text-xs text-zinc-400 mt-1",children:["guaranteed ",p,"-link"]})]}),e.jsxs("div",{className:"rounded-xl bg-orange-900/30 border border-orange-800/40 p-4 text-center",children:[e.jsx("div",{className:"text-xs uppercase tracking-wider text-orange-300/70 mb-1",children:"Average Manual"}),e.jsx("div",{className:"text-2xl font-bold text-orange-300",children:c.successChance>=1?"1":c.avgFusings<10?c.avgFusings.toFixed(1):Math.round(c.avgFusings).toLocaleString()}),e.jsx("div",{className:"text-xs text-zinc-400 mt-1",children:c.successChance>=1?"guaranteed — every fusing links":`fusings at ${i}% quality`})]})]}):t?$?e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"rounded-xl bg-purple-900/20 border border-purple-800/30 p-4 text-center",children:[e.jsx("div",{className:"text-xs uppercase tracking-wider text-purple-300/70 mb-1",children:"Avg Tainted Fusings"}),e.jsxs("div",{className:"text-2xl font-bold text-purple-300",children:["~",o.avgTaintedFusings]}),e.jsxs("div",{className:"text-xs text-zinc-400 mt-1",children:["from ",o.startState,"L → ",n,"L"]})]}),e.jsxs("div",{className:"rounded-xl bg-purple-900/20 border border-purple-800/30 p-4 text-center",children:[e.jsx("div",{className:"text-xs uppercase tracking-wider text-purple-300/70 mb-1",children:"Avg Bench Resets"}),e.jsxs("div",{className:"text-2xl font-bold text-purple-300",children:["~",o.avgBenchResets]}),e.jsxs("div",{className:"text-xs text-zinc-400 mt-1",children:[o.benchResetCost," fusings + ",o.benchResetCost," vaals each"]})]}),e.jsxs("div",{className:"rounded-xl bg-red-900/20 border border-red-800/30 p-4 text-center",children:[e.jsx("div",{className:"text-xs uppercase tracking-wider text-red-300/70 mb-1",children:"Corrupted Bench"}),e.jsx("div",{className:"text-2xl font-bold text-red-300",children:c.benchCost.toLocaleString()}),e.jsxs("div",{className:"text-xs text-zinc-400 mt-1",children:["fusings + ",c.benchCost.toLocaleString()," vaals"]})]})]}):t&&o?.benchOnly?e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"rounded-xl bg-red-900/20 border border-red-800/30 p-4 text-center",children:[e.jsx("div",{className:"text-xs uppercase tracking-wider text-red-300/70 mb-1",children:"Corrupted Bench Cost"}),e.jsx("div",{className:"text-2xl font-bold text-red-300",children:o.benchCost}),e.jsxs("div",{className:"text-xs text-zinc-400 mt-1",children:["fusings + ",o.benchCost," vaals"]})]}),e.jsxs("div",{className:"rounded-xl bg-red-900/20 border border-red-800/30 p-4 text-center",children:[e.jsx("div",{className:"text-xs uppercase tracking-wider text-red-300/70 mb-1",children:"Target"}),e.jsxs("div",{className:"text-2xl font-bold text-red-300",children:[n,"-link"]}),e.jsx("div",{className:"text-xs text-zinc-400 mt-1",children:"guaranteed via bench"})]})]}):t&&o?.alreadyDone?e.jsxs("div",{className:"rounded-xl bg-green-900/20 border border-green-800/30 p-4 text-center",children:[e.jsxs("div",{className:"text-lg font-semibold text-green-300",children:["Already ",n,"-linked!"]}),e.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:"Your item is already fully linked."})]}):null:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"rounded-xl bg-orange-900/30 border border-orange-800/40 p-4 text-center",children:[e.jsx("div",{className:"text-xs uppercase tracking-wider text-orange-300/70 mb-1",children:"Success Chance"}),e.jsxs("div",{className:"text-2xl font-bold text-orange-300",children:[(c.successChance*100).toFixed(4),"%"]}),e.jsx("div",{className:"text-xs text-zinc-400 mt-1",children:"per fusing attempt"})]}),e.jsxs("div",{className:"rounded-xl bg-orange-900/30 border border-orange-800/40 p-4 text-center",children:[e.jsx("div",{className:"text-xs uppercase tracking-wider text-orange-300/70 mb-1",children:"Average Fusings"}),e.jsx("div",{className:"text-2xl font-bold text-orange-300",children:Math.round(c.avgFusings).toLocaleString()}),e.jsxs("div",{className:"text-xs text-zinc-400 mt-1",children:["± ",Math.round(c.stdDev).toLocaleString()," std dev"]})]}),e.jsxs("div",{className:"rounded-xl bg-orange-900/30 border border-orange-800/40 p-4 text-center",children:[e.jsx("div",{className:"text-xs uppercase tracking-wider text-orange-300/70 mb-1",children:"Bench Cost"}),e.jsx("div",{className:"text-2xl font-bold text-orange-300",children:c.benchCost.toLocaleString()}),e.jsxs("div",{className:"text-xs text-zinc-400 mt-1",children:["guaranteed ",p,"-link"]})]})]}),G&&!c.noLinksPossible&&!o?.noLinksPossible&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-zinc-100 mb-3",children:"Cost Comparison"}),e.jsx("div",{className:"overflow-x-auto rounded-lg border border-white/5",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-white/5",children:[e.jsx("th",{className:"text-left px-4 py-2 text-zinc-400 font-medium",children:"Method"}),e.jsx("th",{className:"text-right px-4 py-2 text-zinc-400 font-medium",children:"Avg Orbs"}),e.jsx("th",{className:"text-right px-4 py-2 text-zinc-400 font-medium",children:"Chaos Cost"})]})}),e.jsx("tbody",{children:G.map((s,h)=>e.jsxs("tr",{className:s.isBest?"bg-green-900/30 text-green-300":h%2===0?"bg-poe-row-even":"bg-poe-row-odd",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsxs("span",{className:s.isBest?"font-semibold":"",children:[s.method,s.isBest&&e.jsx("span",{className:"ml-2 text-xs text-green-400",children:"(Best)"})]})}),e.jsxs("td",{className:"text-right px-4 py-2 font-mono",children:[e.jsx("span",{children:s.avgOrbs<10?s.avgOrbs.toFixed(1):Math.round(s.avgOrbs).toLocaleString()}),s.extraOrbs&&e.jsx("span",{className:"text-red-400/70 text-xs ml-1",children:s.extraOrbs})]}),e.jsx("td",{className:"text-right px-4 py-2 font-mono",children:s.chaosCost!=null?`${Math.round(s.chaosCost).toLocaleString()}c`:"—"})]},s.method))})]})}),t&&!R&&e.jsx("p",{className:"text-xs text-red-400/60 mt-2",children:"Vaal Orb price not available — bench costs may be underestimated."})]}),t&&$&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-zinc-100 mb-3",children:"Tainted Fusing Probability"}),e.jsxs("p",{className:"text-xs text-zinc-400 mb-2",children:["Chance of hitting ",n,"-link within N tainted fusings (starting from ",o.startState,"L, resetting at 3L)"]}),e.jsx("div",{className:"overflow-x-auto rounded-lg border border-white/5",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-white/5",children:[e.jsx("th",{className:"text-left px-4 py-2 text-zinc-400 font-medium",children:"Tainted Fusings"}),e.jsx("th",{className:"text-right px-4 py-2 text-zinc-400 font-medium",children:"Probability"}),e.jsx("th",{className:"text-left px-4 py-2 text-zinc-400 font-medium",children:"Visual"})]})}),e.jsx("tbody",{children:o.cumulativeTable.map((s,h)=>e.jsxs("tr",{className:h%2===0?"bg-poe-row-even":"bg-poe-row-odd",children:[e.jsx("td",{className:"px-4 py-2 font-mono",children:s.fusings}),e.jsxs("td",{className:"text-right px-4 py-2 font-mono text-purple-300",children:[(s.probability*100).toFixed(1),"%"]}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("div",{className:"w-full bg-zinc-950/60 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,s.probability*100)}%`}})})})]},s.fusings))})]})}),e.jsx("p",{className:"text-[10px] text-zinc-400/50 mt-2",children:"Note: While the wiki and community consensus state 50/50, some players report longer streaks. Hidden weights remain unconfirmed."})]}),!t&&!c.noLinksPossible&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-zinc-100 mb-3",children:"Cumulative Probability"}),e.jsxs("p",{className:"text-xs text-zinc-400 mb-2",children:["Chance of hitting ",p,"-link within N fusings at ",i,"% quality"]}),e.jsx("div",{className:"overflow-x-auto rounded-lg border border-white/5",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-white/5",children:[e.jsx("th",{className:"text-left px-4 py-2 text-zinc-400 font-medium",children:"Fusings"}),e.jsx("th",{className:"text-right px-4 py-2 text-zinc-400 font-medium",children:"Probability"}),e.jsx("th",{className:"text-left px-4 py-2 text-zinc-400 font-medium",children:"Visual"})]})}),e.jsx("tbody",{children:c.cumulativeTable.map((s,h)=>e.jsxs("tr",{className:h%2===0?"bg-poe-row-even":"bg-poe-row-odd",children:[e.jsx("td",{className:"px-4 py-2 font-mono",children:s.fusings.toLocaleString()}),e.jsxs("td",{className:"text-right px-4 py-2 font-mono text-orange-300",children:[(s.probability*100).toFixed(1),"%"]}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("div",{className:"w-full bg-zinc-950/60 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,s.probability*100)}%`}})})})]},s.fusings))})]})})]}),!t&&c.fiveLink&&e.jsxs("div",{className:"rounded-xl bg-zinc-900/60 border border-white/5 p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-zinc-100 mb-2",children:"5-Link Milestone"}),e.jsxs("p",{className:"text-sm text-zinc-400",children:["While trying for a 6-link, you'll likely hit a 5-link first. At ",i,"% quality, a 5-link takes roughly ",e.jsx("strong",{className:"text-orange-300",children:Math.round(c.fiveLink.avgFusings).toLocaleString()})," fusings on average (~1 in ",Math.round(1/c.fiveLink.chance),")."]})]}),q&&e.jsxs("div",{className:"rounded-xl bg-zinc-800/30 border border-zinc-700/20 p-3 flex items-start gap-2",children:[e.jsx("span",{className:"text-zinc-500 mt-0.5 shrink-0",children:"⚠"}),e.jsxs("p",{className:"text-[11px] text-zinc-500 leading-relaxed",children:["Prices sourced from ",e.jsx("strong",{className:"text-zinc-400",children:"poe.ninja"}),", which scrapes GGG data roughly every hour. In-game merchant prices update in real time and may differ significantly. Always verify in-game before committing currency."]})]}),e.jsxs("div",{className:"rounded-xl bg-purple-900/20 border border-purple-800/30 p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-purple-300 mb-2",children:"Tainted Orb of Fusing"}),e.jsx("p",{className:"text-sm text-zinc-400",children:"Corrupted items only. Each use has a 50% chance to add a link and 50% chance to remove a link from the largest group."}),!t&&e.jsx("p",{className:"text-sm text-red-400/70 mt-2",children:'Requires corrupting your item first — which can brick it (turn it into a rare, add/remove sockets, or do nothing). Toggle "Corrupted Item" above to plan a tainted fusing strategy.'}),t&&M&&e.jsxs("p",{className:"text-sm text-zinc-400 mt-2",children:["Tainted Fusing price: ",e.jsxs("strong",{className:"text-poe-highlight",children:[M.toFixed(1),"c"]})]})]})]})}function te(){const{prices:d}=Y();return e.jsxs("div",{className:"glass-card rounded-2xl p-6 sm:p-8",children:[e.jsx(H,{}),e.jsx(Z,{prices:d})]})}export{te as default};
