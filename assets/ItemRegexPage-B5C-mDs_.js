import{r as m,j as e}from"./index-Bh-FihxS.js";import{m as R,p as K,i as T}from"./item-mod-data-CUrtwU1n.js";import{a as J}from"./mapModRegex-znyOsohy.js";import{S as Q}from"./SaveRegexButton-D5TryHUa.js";function G(a){return J(a,!1).replaceAll(".","\\d")}function U(a){const r=a.itembase,h=a.selectedMagicMods;if(!r)return"";const g=h.filter(i=>i.basetype===r.baseType),p=g.filter(i=>i.affix==="PREFIX").map(i=>i.regex.desc),c=g.filter(i=>i.affix==="SUFFIX").map(i=>i.regex.desc),f=i=>`^${i}`,s=i=>`${i}$`;if(!a.magicSettings.matchOpenAffix&&!a.magicSettings.onlyIfBothPrefixAndSuffix){const i=p.length>0?p.map(n=>`^${n}`):[],d=c.length>0?c.map(n=>`${n}$`):[],l=i.concat(d).filter(n=>n!==null).join("|");return l?`"${l}"`:""}else if(!a.magicSettings.matchOpenAffix&&a.magicSettings.onlyIfBothPrefixAndSuffix){const i=p.length>0?`(${p.join("|")})`:"",d=c.length>0?`(${c.join("|")})`:"";return`"${i}\\s?${r.item}\\s?${d}"`}else if(a.magicSettings.matchOpenAffix&&a.magicSettings.onlyIfBothPrefixAndSuffix){const i=p.length>0?`(${p.join("|")})`:"",d=c.length>0?`(${c.join("|")})`:"",l=r.item;return i.length===0&&d.length===0?"":`"^${i}\\s${l}|${f(l)}" "${l}\\s${d}|${s(l)}"`}else if(a.magicSettings.matchOpenAffix&&!a.magicSettings.onlyIfBothPrefixAndSuffix){const i=p.length>0?p.map(t=>`^${t}`):[],d=c.length>0?c.map(t=>`${t}$`):[],l=r.item,n=i.concat(d).concat([f(l),s(l)]).filter(t=>t!==null).join("|");return n?`"${n}"`:""}return""}function q(a,r){const h=r.itembase,g=r.selectedRareMods;if(!h)return"";const c=Object.entries(g).map(([s,i])=>({key:s,value:i,regex:a[s]})).filter(s=>s.value.selected).filter(s=>s.key.startsWith(h.baseType)).map(s=>{const i=s.regex.on[0],l=i!==void 0&&s.value.values[i]!==""&&s.value.values[i]!==void 0?s.regex.regex.replace("\\d+",G(s.value.values[i])):s.regex.regex,n=s.regex.before.map(u=>s.value.values[u]).filter(u=>u!==void 0&&u!=="").map(u=>G(u)).join(".*"),t=s.regex.after.map(u=>s.value.values[u]).filter(u=>u!==void 0&&u!=="").map(u=>G(u)).join(".*");return[n,l,t].filter(u=>u!==void 0&&u!=="").join(".*")}),f=r.rareSettings.includeBaseName&&h.item?`"${h.item}"`:"";if(r.rareSettings.matchAnyMod){const s=c.join("|"),i=s.length>0?`"${s}"`:"";return[f,i].filter(Boolean).join(" ")}else return[f,...c.map(s=>`"${s}"`)].filter(Boolean).join(" ")}const X=[{name:"Daggers",items:["Glass Shank","Skinning Knife","Stiletto","Flaying Knife","Poignard","Gutting Knife","Ambusher","Prong Dagger","Trisula","Sai","Hollowpoint Dagger","Pressurised Dagger","Pneumatic Dagger","Ethereal Blade"]},{name:"Sceptres",items:["Driftwood Sceptre","Darkwood Sceptre","Bronze Sceptre","Quartz Sceptre","Iron Sceptre","Ochre Sceptre","Ritual Sceptre","Shadow Sceptre","Grinning Fetish","Sekhem","Crystal Sceptre","Lead Sceptre","Blood Sceptre","Royal Sceptre","Abyssal Sceptre","Karui Sceptre","Tyrant's Sekhem","Opal Sceptre","Horned Sceptre","Stag Sceptre","Sambar Sceptre","Platinum Sceptre","Vaal Sceptre","Carnal Sceptre","Void Sceptre","Oscillating Sceptre","Stabilising Sceptre","Alternating Sceptre"]},{name:"Fishing Rods",items:["Fishing Rod"]},{name:"Blueprints",items:["Blueprint: Bunker","Blueprint: Smuggler's Den","Blueprint: Laboratory","Blueprint: Repository","Blueprint: Prohibited Library","Blueprint: Tunnels","Blueprint: Underbelly","Blueprint: Records Office","Blueprint: Mansion"]},{name:"Abyss Jewels",items:["Murderous Eye Jewel","Searching Eye Jewel","Hypnotic Eye Jewel","Ghastly Eye Jewel"]},{name:"One Hand Maces",items:["Driftwood Club","Tribal Club","Spiked Club","Stone Hammer","War Hammer","Bladed Mace","Ceremonial Mace","Dream Mace","Petrified Club","Barbed Club","Rock Breaker","Battle Hammer","Flanged Mace","Ornate Mace","Phantom Mace","Ancestral Club","Tenderizer","Gavel","Wyrm Mace","Dragon Mace","Behemoth Mace","Legion Hammer","Pernach","Auric Mace","Nightmare Mace","Flare Mace","Crack Mace","Boom Mace"]},{name:"Utility Flasks",items:["Diamond Flask","Ruby Flask","Sapphire Flask","Topaz Flask","Granite Flask","Quicksilver Flask","Amethyst Flask","Quartz Flask","Jade Flask","Basalt Flask","Aquamarine Flask","Stibnite Flask","Sulphur Flask","Silver Flask","Bismuth Flask","Gold Flask","Corundum Flask","Iron Flask"]},{name:"Body Armours",items:["Plate Vest","Chestplate","Copper Plate","War Plate","Full Plate","Arena Plate","Lordly Plate","Bronze Plate","Battle Plate","Sun Plate","Colosseum Plate","Majestic Plate","Golden Plate","Crusader Plate","Astral Plate","Gladiator Plate","Glorious Plate","Titan Plate","Legion Plate","Royal Plate","Kaom's Plate","Shabby Jerkin","Strapped Leather","Buckskin Tunic","Wild Leather","Full Leather","Sun Leather","Thief's Garb","Eelskin Tunic","Frontier Leather","Glorious Leather","Coronal Leather","Cutthroat's Garb","Sharkskin Tunic","Destiny Leather","Exquisite Leather","Zodiac Leather","Assassin's Garb","Supreme Leather","Astral Leather","Syndicate's Garb","Simple Robe","Silken Vest","Scholar's Robe","Silken Garb","Mage's Vestment","Silk Robe","Cabalist Regalia","Sage's Robe","Silken Wrap","Conjurer's Vestment","Spidersilk Robe","Destroyer Regalia","Savant's Robe","Necromancer Silks","Occultist's Vestment","Widowsilk Robe","Vaal Regalia","Arcane Vestment","Nightweave Robe","Twilight Regalia","Scale Vest","Light Brigandine","Scale Doublet","Infantry Brigandine","Full Scale Armour","Soldier's Brigandine","Field Lamellar","Wyrmscale Doublet","Hussar Brigandine","Full Wyrmscale","Commander's Brigandine","Battle Lamellar","Dragonscale Doublet","Desert Brigandine","Full Dragonscale","General's Brigandine","Triumphant Lamellar","Full Wyvernscale","Marshall's Brigandine","Conquest Lamellar","Chainmail Vest","Chainmail Tunic","Ringmail Coat","Chainmail Doublet","Full Ringmail","Full Chainmail","Holy Chainmail","Latticed Ringmail","Crusader Chainmail","Ornate Ringmail","Chain Hauberk","Devout Chainmail","Loricated Ringmail","Conquest Chainmail","Elegant Ringmail","Saint's Hauberk","Saintly Chainmail","Grand Ringmail","Paladin's Hauberk","Sacred Chainmail","Padded Vest","Oiled Vest","Padded Jacket","Oiled Coat","Scarlet Raiment","Waxed Garb","Bone Armour","Quilted Jacket","Sleek Coat","Crimson Raiment","Lacquered Garb","Crypt Armour","Sentinel Jacket","Varnished Coat","Blood Raiment","Sadist Garb","Carnal Armour","Sanguine Raiment","Torturer Garb","Necrotic Armour","Sacrificial Garb","Grasping Mail","Golden Mantle"]},{name:"Gloves",items:["Iron Gauntlets","Plated Gauntlets","Bronze Gauntlets","Steel Gauntlets","Antique Gauntlets","Ancient Gauntlets","Goliath Gauntlets","Vaal Gauntlets","Titan Gauntlets","Precursor Gauntlets","Leviathan Gauntlets","Preserving Gauntlets","Guarding Gauntlets","Thwarting Gauntlets","Rawhide Gloves","Goathide Gloves","Deerskin Gloves","Nubuck Gloves","Eelskin Gloves","Sharkskin Gloves","Shagreen Gloves","Stealth Gloves","Slink Gloves","Harpyskin Gloves","Velour Gloves","Tinker Gloves","Apprentice Gloves","Trapsetter Gloves","Wool Gloves","Velvet Gloves","Silk Gloves","Embroidered Gloves","Satin Gloves","Samite Gloves","Conjurer Gloves","Arcanist Gloves","Sorcerer Gloves","Sage Gloves","Warlock Gloves","Leyline Gloves","Aetherwind Gloves","Nexus Gloves","Fishscale Gauntlets","Ironscale Gauntlets","Bronzescale Gauntlets","Steelscale Gauntlets","Serpentscale Gauntlets","Wyrmscale Gauntlets","Hydrascale Gauntlets","Dragonscale Gauntlets","Chimerascale Gauntlets","Wyvernscale Gauntlets","Chain Gloves","Ringmail Gloves","Mesh Gloves","Riveted Gloves","Zealot Gloves","Soldier Gloves","Legion Gloves","Crusader Gloves","Martyr Gloves","Paladin Gloves","Wrapped Mitts","Strapped Mitts","Clasped Mitts","Trapper Mitts","Ambush Mitts","Carnal Mitts","Assassin's Mitts","Murder Mitts","Infiltrator Mitts","Phantom Mitts","Golden Bracers","Spiked Gloves","Gripped Gloves","Fingerless Silk Gloves","Apothecary's Gloves","Runic Gloves","Runic Gages","Runic Gauntlets"]},{name:"Bows",items:["Crude Bow","Short Bow","Long Bow","Composite Bow","Recurve Bow","Bone Bow","Royal Bow","Death Bow","Grove Bow","Decurve Bow","Compound Bow","Sniper Bow","Ivory Bow","Highborn Bow","Decimation Bow","Thicket Bow","Citadel Bow","Ranger Bow","Reflex Bow","Steelwood Bow","Maraketh Bow","Assassin Bow","Spine Bow","Imperial Bow","Harbinger Bow","Hedron Bow","Foundry Bow","Solarine Bow","Ethereal Bow"]},{name:"Staves",items:["Gnarled Branch","Primitive Staff","Long Staff","Royal Staff","Woodful Staff","Quarterstaff","Highborn Staff","Primordial Staff","Crescent Staff","Moon Staff","Eclipse Staff","Lathi","Imperial Staff","Transformer Staff","Reciprocation Staff","Battery Staff"]},{name:"Two Hand Maces",items:["Driftwood Maul","Tribal Maul","Mallet","Sledgehammer","Jagged Maul","Brass Maul","Fright Maul","Totemic Maul","Great Mallet","Steelhead","Spiny Maul","Plated Maul","Dread Maul","Karui Maul","Colossus Mallet","Morning Star","Solar Maul","Coronal Maul","Piledriver","Meatgrinder","Imperial Maul","Terror Maul","Blunt Force Condenser","Crushing Force Magnifier","Impact Force Propagator"]},{name:"Rings",items:["Golden Hoop","Jet Ring","Iron Ring","Coral Ring","Paua Ring","Gold Ring","Topaz Ring","Sapphire Ring","Ruby Ring","Prismatic Ring","Moonstone Ring","Amethyst Ring","Diamond Ring","Two-Stone Ring","Unset Ring","Bone Ring","Cryonic Ring","Enthalpic Ring","Synaptic Ring","Organic Ring","Fugitive Ring","Formless Ring","Dusk Ring","Penumbra Ring","Tenebrous Ring","Shadowed Ring","Nameless Ring","Ring","Breach Ring","Opal Ring","Cogwork Ring","Geodesic Ring","Composite Ring","Manifold Ring","Ratcheting Ring","Helical Ring","Gloam Ring","Steel Ring","Vermillion Ring","Cerulean Ring","Iolite Ring"]},{name:"One Hand Swords",items:["Charan's Sword","Energy Blade","Golden Blade","Rusted Sword","Copper Sword","Sabre","Broad Sword","War Sword","Ancient Sword","Elegant Sword","Dusk Blade","Variscite Blade","Cutlass","Baselard","Battle Sword","Elder Sword","Graceful Sword","Twilight Blade","Gemstone Sword","Corsair Sword","Gladius","Hook Sword","Grappler","Tiger Hook","Legion Sword","Vaal Blade","Eternal Sword","Midnight Blade","Fickle Spiritblade","Capricious Spiritblade","Anarchic Spiritblade"]},{name:"Shields",items:["Splintered Tower Shield","Corroded Tower Shield","Rawhide Tower Shield","Cedar Tower Shield","Copper Tower Shield","Reinforced Tower Shield","Painted Tower Shield","Buckskin Tower Shield","Mahogany Tower Shield","Bronze Tower Shield","Girded Tower Shield","Crested Tower Shield","Shagreen Tower Shield","Ebony Tower Shield","Ezomyte Tower Shield","Colossal Tower Shield","Pinnacle Tower Shield","Exothermic Tower Shield","Magmatic Tower Shield","Heat-attuned Tower Shield","Goathide Buckler","Pine Buckler","Painted Buckler","Hammered Buckler","War Buckler","Gilded Buckler","Oak Buckler","Enameled Buckler","Corrugated Buckler","Battle Buckler","Golden Buckler","Ironwood Buckler","Lacquered Buckler","Vaal Buckler","Crusader Buckler","Imperial Buckler","Endothermic Buckler","Polar Buckler","Cold-attuned Buckler","Twig Spirit Shield","Yew Spirit Shield","Tarnished Spirit Shield","Jingling Spirit Shield","Brass Spirit Shield","Walnut Spirit Shield","Ancient Spirit Shield","Chiming Spirit Shield","Thorium Spirit Shield","Lacewood Spirit Shield","Bone Spirit Shield","Ivory Spirit Shield","Fossilised Spirit Shield","Vaal Spirit Shield","Harmonic Spirit Shield","Titanium Spirit Shield","Exhausting Spirit Shield","Subsuming Spirit Shield","Transfer-attuned Spirit Shield","Rotted Round Shield","Fir Round Shield","Studded Round Shield","Scarlet Round Shield","Splendid Round Shield","Maple Round Shield","Spiked Round Shield","Crimson Round Shield","Baroque Round Shield","Teak Round Shield","Spiny Round Shield","Cardinal Round Shield","Elegant Round Shield","Plank Kite Shield","Linden Kite Shield","Reinforced Kite Shield","Layered Kite Shield","Ceremonial Kite Shield","Etched Kite Shield","Steel Kite Shield","Laminated Kite Shield","Angelic Kite Shield","Branded Kite Shield","Champion Kite Shield","Mosaic Kite Shield","Archon Kite Shield","Spiked Bundle","Driftwood Spiked Shield","Alloyed Spiked Shield","Burnished Spiked Shield","Ornate Spiked Shield","Redwood Spiked Shield","Compound Spiked Shield","Polished Spiked Shield","Sovereign Spiked Shield","Alder Spiked Shield","Ezomyte Spiked Shield","Mirrored Spiked Shield","Supreme Spiked Shield","Golden Flame"]},{name:"Contracts",items:["Contract: Bunker","Contract: Smuggler's Den","Contract: Laboratory","Contract: Repository","Contract: Prohibited Library","Contract: Tunnels","Contract: Underbelly","Contract: Records Office","Contract: Mansion"]},{name:"Heist Brooches",items:["[UNUSED] Heist Test Reward Equipment","Silver Brooch","Golden Brooch","Enamel Brooch","Foliate Brooch"]},{name:"Thrusting One Hand Swords",items:["Rusted Spike","Whalebone Rapier","Battered Foil","Basket Rapier","Jagged Foil","Antique Rapier","Elegant Foil","Thorn Rapier","Wyrmbone Rapier","Burnished Foil","Estoc","Serrated Foil","Primeval Rapier","Fancy Foil","Apex Rapier","Dragonbone Rapier","Tempered Foil","Pecoraro","Smallsword","Courtesan Sword","Dragoon Sword","Spiraled Foil","Vaal Rapier","Jewelled Foil","Harpy Rapier"]},{name:"Wands",items:["Driftwood Wand","Goat's Horn","Carved Wand","Quartz Wand","Spiraled Wand","Sage Wand","Faun's Horn","Engraved Wand","Crystal Wand","Coiled Wand","Omen Wand","Demon's Horn","Imbued Wand","Pagan Wand","Heathen Wand","Profane Wand","Opal Wand","Tornado Wand","Prophecy Wand","Assembler Wand","Congregator Wand","Accumulator Wand","Somatic Wand","Blasting Wand","Kinetic Wand","Calling Wand","Convening Wand","Convoking Wand"]},{name:"Heist Gear",items:["[UNUSED] Heist Test Weapon","Rough Sharpening Stone","Standard Sharpening Stone","Fine Sharpening Stone","Obsidian Sharpening Stone","Flanged Arrowhead","Fragmenting Arrowhead","Hollowpoint Arrowhead","Precise Arrowhead","Focal Stone","Conduit Line","Aggregator Charm","Burst Band"]},{name:"Mana Flasks",items:["Small Mana Flask","Medium Mana Flask","Large Mana Flask","Greater Mana Flask","Grand Mana Flask","Giant Mana Flask","Colossal Mana Flask","Sacred Mana Flask","Hallowed Mana Flask","Sanctified Mana Flask","Divine Mana Flask","Eternal Mana Flask"]},{name:"Rune Daggers",items:["Carving Knife","Boot Knife","Copper Kris","Skean","Imp Dagger","Butcher Knife","Boot Blade","Golden Kris","Royal Skean","Fiend Dagger","Slaughter Knife","Ezomyte Dagger","Platinum Kris","Imperial Skean","Demon Dagger","Flickerflame Blade","Flashfire Blade","Infernal Blade"]},{name:"Warstaves",items:["Iron Staff","Coiled Staff","Vile Staff","Military Staff","Serpentine Staff","Foul Staff","Ezomyte Staff","Maelström Staff","Judgement Staff","Capacity Rod","Potentiality Rod","Eventuality Rod"]},{name:"Quivers",items:["Cured Quiver","Rugged Quiver","Conductive Quiver","Heavy Quiver","Light Quiver","Serrated Arrow Quiver","Fire Arrow Quiver","Sharktooth Arrow Quiver","Feathered Arrow Quiver","Penetrating Arrow Quiver","Blunt Arrow Quiver","Two-Point Arrow Quiver","Spike-Point Arrow Quiver","Blazing Arrow Quiver","Broadhead Arrow Quiver","Vile Arrow Quiver","Heavy Arrow Quiver","Primal Arrow Quiver","Ornate Quiver","Artillery Quiver"]},{name:"Two Hand Axes",items:["Stone Axe","Jade Chopper","Woodsplitter","Poleaxe","Double Axe","Gilded Axe","Shadow Axe","Jasper Chopper","Timber Axe","Headsman Axe","Labrys","Noble Axe","Abyssal Axe","Karui Chopper","Sundering Axe","Dagger Axe","Talon Axe","Fleshripper","Ezomyte Axe","Vaal Axe","Despot Axe","Void Axe","Prime Cleaver","Honed Cleaver","Apex Cleaver"]},{name:"Sanctified Relics",items:["Sanctified Relic"]},{name:"One Hand Axes",items:["Rusted Hatchet","Jade Hatchet","Boarding Axe","Cleaver","Broad Axe","Arming Axe","Decorative Axe","Spectral Axe","Jasper Axe","Tomahawk","Wrist Chopper","War Axe","Chest Splitter","Ceremonial Axe","Wraith Axe","Karui Axe","Siege Axe","Reaver Axe","Etched Hatchet","Engraved Hatchet","Runic Hatchet","Butcher Axe","Vaal Hatchet","Royal Axe","Infernal Axe","Maltreatment Axe","Disapprobation Axe","Psychotic Axe"]},{name:"Heist Tools",items:["[UNUSED] Heist Test Tool","Simple Lockpick","Standard Lockpick","Fine Lockpick","Master Lockpick","Leather Bracers","Studded Bracers","Runed Bracers","Steel Bracers","Crude Sensing Charm","Fine Sensing Charm","Polished Sensing Charm","Thaumaturgical Sensing Charm","Voltaxic Flashpowder","Trarthan Flashpowder","Azurite Flashpowder","Thaumetic Flashpowder","Crude Ward","Lustrous Ward","Shining Ward","Thaumaturgical Ward","Essential Keyring","Versatile Keyring","Skeleton Keyring","Grandmaster Keyring","Eelskin Sole","Foxhide Sole","Winged Sole","Silkweave Sole","Basic Disguise Kit","Theatre Disguise Kit","Espionage Disguise Kit","Regicide Disguise Kit","Steel Drill","Flanged Drill","Sulphur Blowtorch","Thaumetic Blowtorch"]},{name:"Heist Cloaks",items:["[UNUSED] Heist Test Utility Equipment","Torn Cloak","Tattered Cloak","Hooded Cloak","Whisper-woven Cloak"]},{name:"Relics",items:["[DO NOT USE] Censer Relic","[DO NOT USE] Urn Relic","Censer Relic","Urn Relic","[DO NOT USE] Processional Relic","[DO NOT USE] Tome Relic","Processional Relic","Tome Relic","[DO NOT USE] Candlestick Relic","[DO NOT USE] Coffer Relic","[DO NOT USE] Papyrus Relic","Candlestick Relic","Coffer Relic","Papyrus Relic"]},{name:"Claws",items:["Nailed Fist","Sharktooth Claw","Awl","Cat's Paw","Blinder","Timeworn Claw","Sparkling Claw","Fright Claw","Thresher Claw","Gouger","Tiger's Paw","Gut Ripper","Prehistoric Claw","Noble Claw","Eagle Claw","Great White Claw","Throat Stabber","Hellion's Paw","Double Claw","Twin Claw","Gemini Claw","Eye Gouger","Vaal Claw","Imperial Claw","Terror Claw","Shadow Fangs","Malign Fangs","Void Fangs"]},{name:"Boots",items:["Iron Greaves","Steel Greaves","Plated Greaves","Reinforced Greaves","Antique Greaves","Ancient Greaves","Goliath Greaves","Vaal Greaves","Titan Greaves","Precursor Greaves","Leviathan Greaves","Basemetal Treads","Darksteel Treads","Brimstone Treads","Kaom's Greaves","Rawhide Boots","Goathide Boots","Deerskin Boots","Nubuck Boots","Eelskin Boots","Sharkskin Boots","Shagreen Boots","Stealth Boots","Slink Boots","Harpyskin Boots","Velour Boots","Cloudwhisper Boots","Windbreak Boots","Stormrider Boots","Wool Shoes","Velvet Slippers","Silk Slippers","Scholar Boots","Satin Slippers","Samite Slippers","Conjurer Boots","Arcanist Slippers","Sorcerer Boots","Sage Slippers","Warlock Boots","Duskwalk Slippers","Nightwind Slippers","Dreamquest Slippers","Leatherscale Boots","Ironscale Boots","Bronzescale Boots","Steelscale Boots","Serpentscale Boots","Wyrmscale Boots","Hydrascale Boots","Dragonscale Boots","Chimerascale Boots","Wyvernscale Boots","Chain Boots","Ringmail Boots","Mesh Boots","Riveted Boots","Zealot Boots","Soldier Boots","Legion Boots","Crusader Boots","Martyr Boots","Paladin Boots","Wrapped Boots","Strapped Boots","Clasped Boots","Shackled Boots","Trapper Boots","Ambush Boots","Carnal Boots","Assassin's Boots","Murder Boots","Infiltrator Boots","Phantom Boots","Golden Caligae","Avian Slippers","Two-Toned Boots","Fugitive Boots","Runic Greaves","Runic Sollerets","Runic Sabatons"]},{name:"Hybrid Flasks",items:["Small Hybrid Flask","Medium Hybrid Flask","Large Hybrid Flask","Colossal Hybrid Flask","Sacred Hybrid Flask","Hallowed Hybrid Flask"]},{name:"Two Hand Swords",items:["Keyblade","Energy Blade","Corroded Blade","Longsword","Bastard Sword","Two-Handed Sword","Etched Greatsword","Ornate Sword","Spectral Sword","Butcher Sword","Footman Sword","Highland Blade","Engraved Greatsword","Tiger Sword","Wraith Sword","Headman's Sword","Reaver Sword","Curved Blade","Lithe Blade","Exquisite Blade","Ezomyte Blade","Vaal Greatsword","Lion Sword","Infernal Sword","Rebuking Blade","Blasting Blade","Banishing Blade"]},{name:"Amulets",items:["Paua Amulet","Coral Amulet","Amber Amulet","Jade Amulet","Lapis Amulet","Gold Amulet","Onyx Amulet","Turquoise Amulet","Agate Amulet","Citrine Amulet","Greatwolf Talisman","Ruby Amulet","Unset Amulet","Astrolabe Amulet","Simplex Amulet","Focused Amulet","Jet Amulet","Blue Pearl Amulet","Marble Amulet","Seaglass Amulet","Black Maw Talisman","Bonespire Talisman","Ashscale Talisman","Lone Antler Talisman","Deep One Talisman","Breakrib Talisman","Deadhand Talisman","Undying Flesh Talisman","Rot Head Talisman","Mandible Talisman","Chrysalis Talisman","Writhing Talisman","Hexclaw Talisman","Primal Skull Talisman","Wereclaw Talisman","Splitnewt Talisman","Clutching Talisman","Avian Twins Talisman","Fangjaw Talisman","Horned Talisman","Spinefuse Talisman","Three Rat Talisman","Monkey Twins Talisman","Longtooth Talisman","Rotfeather Talisman","Monkey Paw Talisman","Three Hands Talisman"]},{name:"Belts",items:["Rustic Sash","Chain Belt","Leather Belt","Heavy Belt","Cloth Belt","Studded Belt","Micro-Distillery Belt","Mechalarm Belt","Mechanical Belt","Vanguard Belt","Crystal Belt","Golden Obi","Stygian Vise"]},{name:"Helmets",items:["Iron Hat","Cone Helmet","Barbute Helmet","Close Helmet","Gladiator Helmet","Reaver Helmet","Siege Helmet","Samnite Helmet","Ezomyte Burgonet","Royal Burgonet","Eternal Burgonet","General's Helmet","Conqueror's Helmet","Giantslayer Helmet","Leather Cap","Tricorne","Leather Hood","Wolf Pelt","Hunter Hood","Noble Tricorne","Ursine Pelt","Silken Hood","Sinner Tricorne","Lion Pelt","Dire Pelt","Grizzly Pelt","Majestic Pelt","Vine Circlet","Iron Circlet","Torture Cage","Tribal Circlet","Bone Circlet","Lunaris Circlet","Steel Circlet","Necromancer Circlet","Solaris Circlet","Mind Cage","Hubris Circlet","Moonlit Circlet","Sunfire Circlet","Lich's Circlet","Battered Helm","Sallet","Visored Sallet","Gilded Sallet","Secutor Helm","Fencer Helm","Lacquered Helmet","Fluted Bascinet","Pig-Faced Bascinet","Nightmare Bascinet","Knight Helm","Conquest Helmet","Haunted Bascinet","Sorrow Mask","Atonement Mask","Penitent Mask","Rusted Coif","Soldier Helmet","Great Helmet","Crusader Helmet","Aventail Helmet","Zealot Helmet","Great Crown","Magistrate Crown","Prophet Crown","Praetor Crown","Faithful Helmet","Paladin Crown","Divine Crown","Imp Crown","Demon Crown","Archdemon Crown","Scare Mask","Plague Mask","Iron Mask","Festival Mask","Golden Mask","Raven Mask","Callous Mask","Regicide Mask","Harlequin Mask","Vaal Mask","Deicide Mask","Jester Mask","Ancient Mask","Torturer's Mask","Gale Crown","Winter Crown","Blizzard Crown","Golden Wreath","Golden Visage","Bone Helmet","Runic Helm","Runic Crest","Runic Crown"]},{name:"Life Flasks",items:["Small Life Flask","Medium Life Flask","Large Life Flask","Greater Life Flask","Grand Life Flask","Giant Life Flask","Colossal Life Flask","Sacred Life Flask","Hallowed Life Flask","Sanctified Life Flask","Divine Life Flask","Eternal Life Flask"]},{name:"Jewels",items:["Crimson Jewel","Viridian Jewel","Cobalt Jewel","Prismatic Jewel","Timeless Jewel","Large Cluster Jewel","Medium Cluster Jewel","Small Cluster Jewel"]}],N=X.flatMap(a=>a.items.map(r=>({baseType:a.name,item:r})));function _({value:a,onChange:r,rarity:h,onRarityChange:g}){const[p,c]=m.useState(""),[f,s]=m.useState(!1),i=m.useRef(null),d=m.useMemo(()=>{if(!p)return N.slice(0,50);const t=p.toLowerCase();return N.filter(u=>u.item.toLowerCase().includes(t)||u.baseType.toLowerCase().includes(t)).slice(0,50)},[p]);m.useEffect(()=>{function t(u){i.current&&!i.current.contains(u.target)&&s(!1)}return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]);const l=t=>{r(t),c(t.item),s(!1)},n=()=>{r(null),c("")};return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-zinc-400",children:"Rarity:"}),e.jsx("div",{className:"inline-flex rounded-full bg-zinc-950/60 border border-white/5 p-0.5",children:["Rare","Magic"].map(t=>e.jsx("button",{onClick:()=>g(t),className:`px-3.5 py-1 rounded-full text-xs font-medium transition-all duration-200 ${h===t?"bg-indigo-500/20 text-indigo-300 shadow-sm":"text-zinc-400 hover:text-zinc-100"}`,children:t},t))})]}),e.jsxs("div",{ref:i,className:"relative",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-400/50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"M21 21l-4.35-4.35"})]}),e.jsx("input",{type:"text",value:p,onChange:t=>{c(t.target.value),s(!0)},onFocus:()=>s(!0),placeholder:"Search item base type...",className:"w-full bg-zinc-950/40 border border-white/5 rounded-lg text-sm py-2 pl-9 pr-8 text-zinc-100 placeholder:text-zinc-400/40 outline-none focus:border-indigo-500/40 transition-colors"}),a&&e.jsx("button",{onClick:n,className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-zinc-200 transition-colors duration-150",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),a&&e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs fade-in",children:[e.jsx("span",{className:"px-2 py-0.5 rounded-full bg-indigo-500/15 text-indigo-300 border border-indigo-400/20 fade-in",children:a.baseType}),e.jsx("span",{className:"text-zinc-300",children:a.item})]}),f&&d.length>0&&e.jsx("div",{className:"fade-in absolute z-50 mt-1 w-full max-h-64 overflow-y-auto rounded-lg bg-zinc-900 border border-white/10 shadow-xl",children:d.map(t=>e.jsxs("button",{onClick:()=>l(t),className:`w-full text-left px-3 py-2 text-sm hover:bg-indigo-500/10 hover:pl-4 transition-all duration-100 flex items-center justify-between ${a?.item===t.item&&a?.baseType===t.baseType?"bg-indigo-500/15":""}`,children:[e.jsx("span",{className:"text-zinc-100",children:t.item}),e.jsx("span",{className:"text-xs text-zinc-400",children:t.baseType})]},`${t.baseType}-${t.item}`))})]})]})}const Z=a=>a.replace(/suffix_?/,"Suffix").replace(/prefix_?/,"Prefix").replace("adjudicator"," Warlord").replace("basilisk"," Hunter").replace("crusader"," Crusader").replace("eyrie"," Redeemer").replace("elder"," Elder").replace("shaper"," Shaper"),A=(a,r)=>{const h={"":-1,shaper:0,elder:1,basilisk:2,crusader:3,eyrie:4,adjudicator:5},g=p=>{const c=p.replace(/(prefix|suffix)_?/,"");return h[c]??1/0};return g(a.category)-g(r.category)};function Y(a){return a.reduce((r,h)=>{const g=h.category.replace(/(suffix|prefix)_?/,"");return r[g]||(r[g]=[]),r[g].push(h),r},{})}function ee({mod:a,modKey:r,selection:h,onToggle:g,onValueChange:p}){const c=h?.selected,[f,s]=m.useState(!1),i=m.useMemo(()=>{const n=[];return a.before.forEach(t=>n.push({idx:t,label:`#${t+1} (before)`})),a.on.forEach(t=>n.push({idx:t,label:`#${t+1} (in regex)`})),a.after.forEach(t=>n.push({idx:t,label:`#${t+1} (after)`})),n},[a]),d=i.length>0,l=a.stats[0];return e.jsxs("div",{className:`rounded-lg transition-all duration-150 ${c?"bg-indigo-500/10 ring-1 ring-indigo-400/30":"hover:bg-white/[0.03]"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5",children:[e.jsx("input",{type:"checkbox",checked:!!c,onChange:()=>g(r),className:"accent-indigo-400 w-3.5 h-3.5 shrink-0"}),e.jsx("button",{className:"flex-1 text-left text-[13px] text-zinc-200 leading-snug truncate",onClick:()=>g(r),title:a.desc,children:a.desc}),e.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded-full shrink-0 ${a.affixtype==="PREFIX"?"bg-blue-500/15 text-blue-300 border border-blue-400/20":"bg-amber-500/15 text-amber-300 border border-amber-400/20"}`,children:a.affixtype==="PREFIX"?"P":"S"}),(d||a.affixes.length>1)&&e.jsx("button",{onClick:()=>s(!f),className:"text-zinc-400 hover:text-zinc-200 shrink-0",children:e.jsx("svg",{className:`w-3.5 h-3.5 transition-transform ${f?"rotate-90":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})})]}),f&&e.jsxs("div",{className:"fade-in px-3 pb-2 space-y-2",children:[c&&d&&e.jsx("div",{className:"flex flex-wrap gap-2 ml-6",children:i.map(({idx:n,label:t})=>e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsxs("label",{className:"text-[11px] text-zinc-400",children:[t,":"]}),e.jsx("input",{type:"text",inputMode:"numeric",value:h?.values?.[n]||"",onChange:u=>p(r,n,u.target.value),placeholder:l?`${l.min}-${l.max}`:"0",className:"w-16 bg-zinc-950/50 border border-white/5 rounded text-xs py-1 px-2 text-zinc-100 placeholder:text-zinc-400/30 outline-none focus:border-indigo-500/40"})]},n))}),a.affixes.length>0&&e.jsx("div",{className:"ml-6 space-y-0.5",children:a.affixes.map((n,t)=>e.jsxs("div",{className:"text-[11px] text-zinc-400 flex items-center gap-1.5",children:[e.jsx("span",{className:"w-1 h-1 rounded-full bg-zinc-500 shrink-0"}),e.jsx("span",{children:n.name}),n.desc&&e.jsxs("span",{className:"text-zinc-500",children:["(",n.desc,")"]})]},t))})]})]})}function ae({title:a,categories:r,selectedMods:h,onToggle:g,onValueChange:p,affixMap:c}){const[f,s]=m.useState(!1),i=r.reduce((l,n)=>l+n.modifiers.length,0),d=r.reduce((l,n)=>l+n.modifiers.filter(t=>{const u=`${n.basetype||""}-${n.category}-${t.desc}`;return h[u]?.selected}).length,0);return e.jsxs("div",{className:"border border-white/5 rounded-xl overflow-hidden",children:[e.jsxs("button",{onClick:()=>s(!f),className:"w-full flex items-center justify-between px-4 py-2.5 bg-zinc-950/30 hover:bg-zinc-950/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:`w-3 h-3 text-zinc-400 transition-transform duration-200 ${f?"rotate-90":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),e.jsx("span",{className:"text-sm font-medium text-indigo-300",children:a})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[d>0&&e.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full bg-indigo-500/20 text-indigo-300 transition-all duration-200",children:d}),e.jsx("span",{className:"text-xs text-zinc-500",children:i})]})]}),f&&e.jsx("div",{className:"fade-in px-2 py-2 space-y-px border-t border-white/5",children:r.map(l=>l.modifiers.map(n=>{const t=`${l.basetype||""}-${l.category}-${n.desc}`;return e.jsx(ee,{mod:n,modKey:t,selection:h[t],onToggle:g,onValueChange:p},t)}))})]})}function te({baseType:a,itemRegexData:r,selectedMods:h,onToggle:g,onValueChange:p}){const[c,f]=m.useState(""),s=m.useMemo(()=>{if(!a||!r[a])return{};const d=r[a],n=[...d.categoryRegex].sort(A).map(o=>({...o,basetype:d.basetype})),t=c.toLowerCase(),u=t?n.map(o=>({...o,modifiers:o.modifiers.filter(b=>b.desc.toLowerCase().includes(t))})).filter(o=>o.modifiers.length>0):n;return Y(u)},[a,r,c]),i=m.useMemo(()=>Object.entries(s).sort(([,d],[,l])=>A(d[0],l[0])),[s]);return a?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("svg",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-zinc-400/50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"M21 21l-4.35-4.35"})]}),e.jsx("input",{type:"text",value:c,onChange:d=>f(d.target.value),placeholder:"Search mods...",className:"w-full bg-zinc-950/40 border border-white/5 rounded-lg text-sm py-1.5 pl-8 pr-3 text-zinc-100 placeholder:text-zinc-400/40 outline-none focus:border-indigo-500/40 transition-colors"})]}),e.jsxs("div",{className:"space-y-2",children:[i.map(([d,l])=>{const n=Z(l[0]?.category||d)||"General";return e.jsx(ae,{title:n,categories:l,selectedMods:h,onToggle:g,onValueChange:p},d)}),i.length===0&&e.jsx("p",{className:"text-sm text-zinc-400/60 italic",children:"No mods found for this base type."})]})]}):e.jsx("p",{className:"text-sm text-zinc-400/60 italic",children:"Select an item base to see available mods."})}function F({mod:a,selected:r,onClick:h}){return e.jsxs("button",{onClick:h,className:`w-full text-left px-3 py-1.5 rounded-lg text-[13px] leading-snug transition-all duration-100 group ${r?"bg-indigo-500/15 ring-1 ring-indigo-400/40":"hover:bg-white/[0.04] hover:pl-4"}`,title:`${a.name} — ${a.description} (ilvl ${a.ilevel})`,children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full shrink-0 transition-opacity ${r?"opacity-100 bg-indigo-400":"opacity-0 group-hover:opacity-50 bg-zinc-400"}`}),e.jsx("span",{className:"text-zinc-200 truncate",children:a.name}),e.jsxs("span",{className:"text-[10px] text-zinc-500 shrink-0 ml-auto",children:["ilvl ",a.ilevel]})]}),e.jsx("span",{className:"text-[11px] text-zinc-400 ml-4 block truncate",children:a.description})]})}function ie({baseType:a,selectedMods:r,onToggle:h}){const[g,p]=m.useState(""),[c,f]=m.useState(""),{prefixes:s,suffixes:i,warnings:d}=m.useMemo(()=>{if(!a||!R[a])return{prefixes:[],suffixes:[],warnings:[]};const o=R[a],b={prefix:new Set,suffix:new Set},k=[],v=[];for(const w of o){const C=w.isPrefix?b.prefix:b.suffix;C.has(w.family)||(C.add(w.family),w.isPrefix?k.push(w):v.push(w))}const j=K[a]||[];return{prefixes:k,suffixes:v,warnings:j}},[a]),l=m.useMemo(()=>{const o=g.toLowerCase();return o?s.filter(b=>b.name.toLowerCase().includes(o)||b.description.toLowerCase().includes(o)):s},[s,g]),n=m.useMemo(()=>{const o=c.toLowerCase();return o?i.filter(b=>b.name.toLowerCase().includes(o)||b.description.toLowerCase().includes(o)):i},[i,c]);if(!a)return e.jsx("p",{className:"text-sm text-zinc-400/60 italic",children:"Select an item base to see available affixes."});if(!R[a])return e.jsx("p",{className:"text-sm text-zinc-400/60 italic",children:"No magic affix data available for this base type."});const t=(o,b)=>r.some(k=>k.basetype===a&&k.regex.desc===o.regex&&k.affix===(b?"PREFIX":"SUFFIX")),u=(o,b)=>{h({basetype:a,affix:b?"PREFIX":"SUFFIX",regex:{desc:o.regex},mod:o})};return e.jsxs("div",{className:"space-y-3",children:[d.length>0&&e.jsx("div",{className:"fade-in rounded-lg bg-amber-500/10 border border-amber-400/20 px-3 py-2",children:e.jsxs("p",{className:"text-xs text-amber-300",children:["Some bases in this category may have name collisions: ",d.join(", ")]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"fade-in rounded-xl border border-white/5 overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 bg-blue-500/[0.06] border-b border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400"}),e.jsx("h4",{className:"text-sm font-semibold text-blue-300 uppercase tracking-wider",children:"Prefixes"})]}),e.jsx("span",{className:"text-xs text-zinc-400",children:s.length})]}),e.jsx("div",{className:"px-3 py-2 border-b border-white/5",children:e.jsxs("div",{className:"relative",children:[e.jsxs("svg",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-zinc-400/50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"M21 21l-4.35-4.35"})]}),e.jsx("input",{type:"text",value:g,onChange:o=>p(o.target.value),placeholder:"Search prefixes...",className:"w-full bg-zinc-950/40 border border-white/5 rounded-lg text-sm py-1.5 pl-8 pr-3 text-zinc-100 placeholder:text-zinc-400/40 outline-none focus:border-indigo-500/40 transition-colors"})]})}),e.jsx("div",{className:"overflow-y-auto flex-1 min-h-[200px] max-h-[400px] p-1.5 space-y-px",children:l.map(o=>e.jsx(F,{mod:o,selected:t(o,!0),onClick:()=>u(o,!0)},`${o.family}-${o.ilevel}`))})]}),e.jsxs("div",{className:"fade-in rounded-xl border border-white/5 overflow-hidden flex flex-col",style:{animationDelay:"50ms"},children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 bg-amber-500/[0.06] border-b border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"}),e.jsx("h4",{className:"text-sm font-semibold text-amber-300 uppercase tracking-wider",children:"Suffixes"})]}),e.jsx("span",{className:"text-xs text-zinc-400",children:i.length})]}),e.jsx("div",{className:"px-3 py-2 border-b border-white/5",children:e.jsxs("div",{className:"relative",children:[e.jsxs("svg",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-zinc-400/50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"M21 21l-4.35-4.35"})]}),e.jsx("input",{type:"text",value:c,onChange:o=>f(o.target.value),placeholder:"Search suffixes...",className:"w-full bg-zinc-950/40 border border-white/5 rounded-lg text-sm py-1.5 pl-8 pr-3 text-zinc-100 placeholder:text-zinc-400/40 outline-none focus:border-indigo-500/40 transition-colors"})]})}),e.jsx("div",{className:"overflow-y-auto flex-1 min-h-[200px] max-h-[400px] p-1.5 space-y-px",children:n.map(o=>e.jsx(F,{mod:o,selected:t(o,!1),onClick:()=>u(o,!1)},`${o.family}-${o.ilevel}`))})]})]})]})}const re=["blueprint","contract","heist"];function P(a){if(!a)return!1;const r=a.toLowerCase();return re.some(h=>r.includes(h))}function se(a){if(!a)return null;if(R[a])return a;const r=["Shields","Gloves","Boots","Body Armours","Helmets"];for(const h of r)if(a===h){const g=Object.keys(R).filter(p=>p.startsWith(h));if(g.length>0)return g[0]}return null}function ne(){const[a,r]=m.useState(null),[h,g]=m.useState("Rare"),[p,c]=m.useState({}),[f,s]=m.useState([]),[i,d]=m.useState({matchAnyMod:!0,includeBaseName:!0}),[l,n]=m.useState({matchOpenAffix:!1,onlyIfBothPrefixAndSuffix:!1}),[t,u]=m.useState(!1),o=m.useRef(null),b=m.useMemo(()=>{const x={};for(const[S,y]of Object.entries(T))for(const B of y.categoryRegex)for(const M of B.modifiers){const V=`${y.basetype}-${B.category}-${M.desc}`;x[V]=M}return x},[]),k=P(a?.baseType)?"Rare":h,v=m.useMemo(()=>se(a?.baseType),[a?.baseType]),j=!!v,w=m.useMemo(()=>a?k==="Rare"?q(b,{itembase:a,selectedRareMods:p,rareSettings:i}):U({itembase:{...a,baseType:v||a.baseType},selectedMagicMods:f,magicSettings:l}):"",[a,k,b,p,i,f,l,v]),C=w.length,H=C>250?"text-red-400":C>200?"text-yellow-400":"text-green-400",L=Math.min(C/250*100,100),z=C>250?"bg-red-500":C>200?"bg-yellow-500":"bg-indigo-500",W=m.useCallback(()=>{navigator.clipboard.writeText(w).then(()=>{u(!0),setTimeout(()=>u(!1),1500)})},[w]),D=m.useCallback(x=>{c(S=>({...S,[x]:{selected:!S[x]?.selected,values:S[x]?.values||{}}}))},[]),E=m.useCallback((x,S,y)=>{c(B=>({...B,[x]:{...B[x],selected:B[x]?.selected??!0,values:{...B[x]?.values,[S]:y}}}))},[]),$=m.useCallback(x=>{s(S=>{const y=S.findIndex(B=>B.basetype===x.basetype&&B.regex.desc===x.regex.desc&&B.affix===x.affix);return y>=0?S.filter((B,M)=>M!==y):[...S,x]})},[]),I=m.useCallback(x=>{g(x)},[]),O=m.useCallback(x=>{r(x)},[]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-indigo-300",children:"Item Mod Regex Generator"}),e.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:"Generate regex patterns to find items with specific mods in stash tabs."})]}),e.jsxs("div",{ref:o,className:"fade-in rounded-xl bg-zinc-950/50 border border-white/5 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-xs font-semibold text-indigo-300 uppercase tracking-widest",children:"Output"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:`text-xs font-mono tabular-nums ${H}`,children:[C,e.jsx("span",{className:"text-zinc-400/60",children:"/250"})]}),e.jsx("button",{onClick:W,disabled:!w,className:`px-3 py-1.5 text-xs font-medium rounded-lg transition-all duration-200 ${t?"bg-indigo-500/30 text-indigo-200 border border-indigo-400/40":"bg-zinc-900/80 text-zinc-400 hover:text-zinc-100 border border-white/5 hover:border-white/10 disabled:opacity-40 disabled:cursor-not-allowed"}`,children:t?"Copied!":"Copy"}),w&&e.jsx(Q,{pattern:w,toolId:"item-regex",toolLabel:"Item Mod Regex",variant:"compact"})]})]}),e.jsx("div",{className:"bg-black/30 rounded-lg p-3 font-mono text-sm text-zinc-100 break-all min-h-[2.5rem] select-all leading-relaxed",children:w?e.jsx("span",{className:"fade-in inline-block",children:w},w):e.jsx("span",{className:"text-zinc-400/50 italic font-sans",children:"Select a base and mods to generate regex..."})}),e.jsx("div",{className:"mt-2 h-1 rounded-full bg-zinc-950/80 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${z}`,style:{width:`${L}%`}})}),e.jsx("div",{className:`overflow-hidden transition-all duration-300 ${C>250?"max-h-10 opacity-100 mt-2":"max-h-0 opacity-0"}`,children:e.jsx("p",{className:"text-xs text-red-400/90",children:"Regex exceeds PoE's 250-character limit. Remove some mods."})})]}),e.jsxs("div",{className:"fade-in rounded-xl bg-zinc-950/30 border border-white/5 p-4",children:[e.jsx("h3",{className:"text-xs font-semibold text-indigo-300 uppercase tracking-widest mb-3",children:"Item Base"}),e.jsx(_,{value:a,onChange:O,rarity:k,onRarityChange:I}),P(a?.baseType)&&e.jsx("p",{className:"text-xs text-zinc-400/60 mt-2 italic",children:"This base type only supports rare affix matching."}),k==="Magic"&&!j&&a&&e.jsxs("p",{className:"text-xs text-amber-300/80 mt-2",children:["No magic affix data available for ",a.baseType,". Try Rare mode."]})]}),e.jsxs("div",{className:"fade-in rounded-xl bg-zinc-950/30 border border-white/5 p-4",children:[e.jsx("h3",{className:"text-xs font-semibold text-indigo-300 uppercase tracking-widest mb-3",children:"Settings"}),k==="Rare"?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm text-zinc-400 cursor-pointer select-none",children:[e.jsx("input",{type:"checkbox",checked:i.includeBaseName,onChange:x=>d(S=>({...S,includeBaseName:x.target.checked})),className:"accent-indigo-400 w-3.5 h-3.5"}),"Include Base Name (adds item name as a search term)"]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm text-zinc-400 cursor-pointer select-none",children:[e.jsx("input",{type:"checkbox",checked:i.matchAnyMod,onChange:x=>d(S=>({...S,matchAnyMod:x.target.checked})),className:"accent-indigo-400 w-3.5 h-3.5"}),"Match Any Mod (OR join — otherwise each mod is a separate search term)"]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm text-zinc-400 cursor-pointer select-none",children:[e.jsx("input",{type:"checkbox",checked:l.matchOpenAffix,onChange:x=>n(S=>({...S,matchOpenAffix:x.target.checked})),className:"accent-indigo-400 w-3.5 h-3.5"}),"Match Open Affix (also match items missing a prefix or suffix)"]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm text-zinc-400 cursor-pointer select-none",children:[e.jsx("input",{type:"checkbox",checked:l.onlyIfBothPrefixAndSuffix,onChange:x=>n(S=>({...S,onlyIfBothPrefixAndSuffix:x.target.checked})),className:"accent-indigo-400 w-3.5 h-3.5"}),"Both Prefix & Suffix Required (item must have both selected prefix and suffix)"]})]})]}),k==="Rare"?e.jsxs("div",{className:"fade-in rounded-xl bg-zinc-950/30 border border-white/5 p-4",children:[e.jsx("h3",{className:"text-xs font-semibold text-indigo-300 uppercase tracking-widest mb-3",children:"Rare Mods"}),e.jsx(te,{baseType:a?.baseType,itemRegexData:T,selectedMods:p,onToggle:D,onValueChange:E})]},"rare"):e.jsxs("div",{className:"fade-in rounded-xl bg-zinc-950/30 border border-white/5 p-4",children:[e.jsx("h3",{className:"text-xs font-semibold text-indigo-300 uppercase tracking-widest mb-3",children:"Magic Affixes"}),e.jsx(ie,{baseType:v||a?.baseType,selectedMods:f,onToggle:$})]},"magic")]})}function ue(){return e.jsx("div",{className:"glass-card rounded-2xl p-6 sm:p-8",children:e.jsx(ne,{})})}export{ue as default};
